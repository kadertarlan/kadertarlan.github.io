
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>KaderTarlan</title>
  <meta name="author" content="KaderTarlan">

  
  <meta name="description" content="Performans ve Yük Testi nedir? Performans Testi Yazdığınız uygulamanın normal koşullarda olması gereken performansa ulaşıp ulaşılmadığının kontrolünü &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kadertarlan.github.io/posts/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="KaderTarlan" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><div class="header-left">
  <hgroup>
  <h1><a href="/">KaderTarlan</a></h1>
  
  <div class="subtitle">
    <h2>BlogCan</h2>
  </div>
  
  </hgroup>
  
</div>

<div class="header-right">
  <ul class="main-navigation">
 <div class="selected"> 
  <li><a href="/">Blog Yazıları</a></li></div><div class="spacer"></div>
     <div> 
        <li><a href="/blog/archives">Blog Arşivi</a></li></div><div class="spacer"></div>
     <div> 
        </ul>
  

</div>
</header>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/10/04/jmeter-ile-performans-testi/">Jmeter Ile Performans Testi</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-10-04T04:35:31+03:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h5>Performans ve Yük Testi nedir?</h5>

<blockquote><p><font color=red>Performans Testi</font> Yazdığınız uygulamanın normal koşullarda olması gereken performansa ulaşıp ulaşılmadığının kontrolünü sağladığımız testlerdir.</p>

<p><font color=red>Yük Testi</font> ise uygulamanıza maksimum kaç kullanıcı ile eriştiğimizde performans değişiminin denetlemesi işlemini yapan testlerdir. Artan sayıda kullanıcılar sisteme giriş yapıp sistemin dayanıklılığını ölçeriz.<br/>
Uygulamanıza aşırı yüklendiğinde sistemin nasıl tepki verdiğini görmek böylece mümkün oluyor. Aslında bu da sistemin dayanıklılığını ölçtüğümüz bir performans testidir.</p></blockquote>

<h5>Jmeter Kullanımı</h5>

<ul>
<li>Uygulamanız aynı anda kaç kullanıcı için sorunsuz çalışıyor?<br/>
Bu süreci test etmek için <font color=#FF3333>Web Performans Test</font> aracına ihtiyacımız var.</li>
</ul>


<blockquote><p><font color=red>Jmeter</font> bir Java uygulamasıdır. Performans ölçmek için yazılmış açık kaynaklı bir yazılımdır.JMeter ile yukarıda bahsettiğimiz maksimum kullanıcı ile yük testleri yapabileceğimiz bir platform sağlar bize.</p></blockquote>

<p>Uygulamanın beklenen performansın yakalayıp yakalamadığımızı test etmemizi sağlar.<br/>
<font color=gray>Eşzamanlı</font> olarak belirlediğiniz sayıda sanal kullanıcıyı oluşturup sisteme giriş yapmaya çalışır. Ve çıkan sonuçları bize <font color=gray>raporlar</font>.</p>

<p><font color=red>Jmeter</font> her türde Web uygulamaları için kullanılabilir. Adresini verdiğiniz uygulamaya erişip amaçlanan adımları sağlar.</p>

<p>Jmeter belirli test senaryoları için kullanmak mümkün.</p>

<p><font color=#990000>
•Jmeter'da kullanıcı tanımladıktan sonra test yapacağımız web sunucu bilgilerini giriyoruz. Ve buraya giriş yapma isteğinde bulunuyoruz. Belirli kullanıcı sayısı ile giriş yapıp sonuçlar denetlenebilir. Bu kullanıcıların hepsini aynı anda uygulamaya giriş yapmasını sağlayabilirsiniz.</p>

<p> •Saniye başına maksimum kullanıcı belirlenip giriş yapılmasını sağlanabilir ve bu bir döngü içinde kaç kez yapılacağı bildirilebilir.</p>

<p>•Kullanıcı sayısını birden başlatıp artan şekilde uygulamaya giriş yapmasını sağlayıp nerede patlayacağını görebilirsiniz.
</font></p>

<p>Bu ve benzeri senaryoları uygulayarak <font color=red>Jmeter</font> üzerinde test sonuçlarını, grafikler ile gözlemlememiz mümkün.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/09/04/bamboo-ile-surekli-entegrasyon/">Bamboo Ile Sürekli Entegrasyon</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-09-04T04:35:31+03:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p><font color=#990000>Sürekli Entegrasyon (Continuous Integration)</font>  bir proje ekibinin oluşturduğu kaynak kodun geliştirilme aşamasında sorunsuz ilerlemesini sağlamak için her değişiklikten sonra sistemimizin hala çalışır durumda olduğunu kontrol etmek amacıyla kullandığımız yöntemdir.</p></blockquote>

<p>Entegrasyon sürecini araçlar ile otomatik hale getirmek mümkün. Böylece entegrasyon hatalarını erkenden yakalayabiliyoruz.</p>

<p>Projede yapılan değişiklikten sonra yolladığınız her commit için Entegrasyon işlemini otomatik olarak aktif edebiliyoruz.
Aktif olan entegrasyon işlemimiz hataları ayıklayabilmek için testlere ihtiyaç duymakta. Yazdığınız tüm unit testler proje üzerinde, her commit sonrası uygulanıyor. Commit ettiğiniz değişiklğiniz projede bir hataya neden olduğunda testler hata veriyor ve Entegrasyon işlemimiz başarılı olarak amacını gerçekliyor.</p>

<p>Sürekli Entegrasyon uygulanan projeler için hatalar hızlı bir şekilde erkenden fark ediliyor.
<font color=#990000>Manuel testler</font> ile gözümüzden kaçabilecek en küçük hatalar bile bu sayede bulunabiliyor.
Yazılan otomasyon testleri her değişiklikte otomatik çalışmış oluyor. Bir kullanıcının bu testleri çalıştır komutunu vermeden testler sürekli olarak uygulanmış oluyor.</p>

<h5>Bamboo ile CI arasındaki ilişki</h5>

<blockquote><p><font color=blue>Bamboo</font> yazılım uygulamaları için sürüm yönetimini otomatikleştirir.  <font color=blue>Atlassian</font> tarafından geliştirilen <font color=blue>CI</font> sunucu yazılımıdır.</p></blockquote>

<p><font color=#990000>CI(Continous Integration)</font>, her yapılan değişikliğin sistemde sistemde sınanması işlemiydi. Yazılım sürecinde farklı modülleri en az hatada birleştirmek istiyoruz.  Böylece kalitemizi artırmayı hedefliyoruz.</p>

<p><font color=blue>Bamboo</font> uygulamaların inşasını ve testini koordine eder ve zamanlar. Böylece kurulumlar ve testler otomatikleştirilmiş olur.</p>

<p><font color=blue>Bamboo</font>’nun yanı sıra Java ile yazılmış özgür araç olan <font color=red>Jenkins</font> de kullanılabilir.</p>

<h5>Bamboo için aşağıdakilere ihtiyaç vardır:</h5>

<p>•Projemizin bulunduğu kod depomuz(  Buradan test etmek istediğimiz projemizin kodlarına erişeceğiz.) <br/>
•İnşa betikleri (Koduna erişilen projeyi Bamboo için test edilmeye hazır vaziyette kurulumunu sağlacağız.)<br/>
•Testler (Asıl amacımız olan yer burası, kontrolleri sağlayacak birim testlerimiz yazılmış olacak.)</p>

<blockquote><p><font color=blue>Bamboo</font>, projemiz için kurulum ve test sürecini yürüten denetleyen aracımız.</p></blockquote>

<p> Kurulum ve testleri çalıştıracak olan komutlar geliştiricinin kodu commit etmesiyle otomatik olarak tetiklenir. Tetikleme sonucunda projemizin bulunduğu kod deposundan kodumuz çekilir. Çekilen kod kullanılarak yazmış olduğumuz betik ile kurulum sağlanacak. Bir kurulum dosyası oluşturuluyor. <font color=blue>Bamboo</font> da bu dosyayı kurulumu yapacağımız makinaya gönderir. Makina betikte belirtildiği şekilde bu dosyadan kurulumu gerçekler.</p>

<p> Kurulumdan sonra yazılmış olan otomasyon birim testleri aktif hale gelecek ve proje üzerinde yürütülecek. <font color=gray>Bamboo bütün bu süreçleri yönetir.</font> Testler bittiğinde sonuçları <font color=red>raporlar.</font></p>

<p> Tüm bu adımlar bir commit mesajı ile aktif olurken Bamboo ile bunları manuel gerçeklemek de mümkün. Var olan projenizi temiz bir şekilde bir makinaya kurup, tüm testleri üzerinde çalıştırıp, sonuçları görmek için <font color=blue>Bamboo</font> üzerinden <font color=red>Run!</font> demeniz yeterlidir.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/08/04/appium-ile-mobil-test/">Appium Ile Mobil Test</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-08-04T04:35:31+03:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Web uygulamarımızı test etmek için pek çok araç var ancak günden güne popüler olan mobil uygulamalarımızın testini yapmak istediğimiz zaman neler kullanmalıyız? Bunun için geliştirilmiş <font color=#990000>Appium</font> aracından bahsedeceğim;</p>

<p><font color=#990000>Appium</font> açık kaynak kodlu mobil test aracıdır.  <font color=blue>iOS, Android, FirefoxOS</font> desteği bulunmakta bu aracın. IOS ve Android için yazılmış uygulamalarınızın geliştirme aşamasında ve sonrasında testini yapmak mümkün oluyor. <font color=#FF3333> Kullanıcı arayüzü(UI)</font> testlerini yazıp bunu <font color=#990000>Appium</font> üzerinde çalıştırıp aksaklıklar varsa bundan haberdar oluyoruz.<br/>
Bu testleri otomatikleştirip, <font color=#FF3333>Continous Integration(CI)</font> sağlamak da mümkün. Her geliştirme sonrası sizin önceden yazılmış testi <font color=red>Run!</font> etmeniz yeterli olacaktır.</p>

<p>Mobil test alanında çok sayıda farklı platform ve cihaz oluşunun farkındayız. Yazılmış uygulamanızın hangi platformda doğru çalıştığını hangisinde patladığını bulmanız oldukça zor, her cihazdan bir örnek alıp testi manuel gerçekleştirmek ise çılgınca bir fikir olabilir.<br/>
Ancak  <font color=#990000>Appium</font> kullanarak manuel yapmak istediğin testi  <font color=#990000>Appium'</font>a desteklediği herhangi bir programlama dili ile yazarsanız, bu testi otomatikleştirerek her seferinde istediğiniz her platformda çalıştırma imkanınız olacak.</p>

<blockquote><p>Appium desteklediği diller ise;<br/>
<font color=#006600>Java, Objective-C, JavaScript, Node.js, PHP, Python, Ruby, C#, Clojure, Perl </font></p></blockquote>

<p><font color=gray>Yazılım testlerini manuel testlerden arındırmanın yanında onları otomatikleştirme ve bunu mobil için her mobil cihaz modelini uygulayabilme fikri bana oldukça kullanışlı müthiş bir özellik geliyor, yaygın olmayan bu yöntem keşke daha çok kullanılabilse. </font></p>

<p>Kurulum aşamasından da biraz bahsetmek istiyorum.<br/>
<font color=#990000>Appium</font> için <font color=blue>Node.js</font> kurmamız gerekiyor. Bunun için ;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
</span><span class='line'><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="o">-</span><span class="n">y</span> <span class="n">python</span><span class="o">-</span><span class="n">software</span><span class="o">-</span><span class="n">properties</span> <span class="n">python</span> <span class="n">g</span><span class="o">++</span> <span class="n">make</span>
</span><span class='line'><span class="err">$</span> <span class="n">sudo</span> <span class="n">add</span><span class="o">-</span><span class="n">apt</span><span class="o">-</span><span class="n">repository</span> <span class="n">ppa</span><span class="p">:</span><span class="n">chris</span><span class="o">-</span><span class="n">lea</span><span class="o">/</span><span class="n">node</span><span class="o">.</span><span class="n">js</span>
</span><span class='line'><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
</span><span class='line'><span class="err">$</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">nodejs</span>
</span></code></pre></td></tr></table></div></figure>


<p>Bu aşamadan sonra aşağıda verdiğim komutta hata almıştım</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">grunt</span><span class="o">-</span><span class="n">cli</span>
</span><span class='line'><span class="n">npm</span> <span class="no">ERR</span><span class="o">!</span> <span class="ss">Error</span><span class="p">:</span> <span class="no">EACCES</span><span class="p">,</span> <span class="n">mkdir</span> <span class="s1">&#39;/home/kader/.npm/sigmund/1.0.1&#39;</span>
</span><span class='line'><span class="n">npm</span> <span class="no">ERR</span><span class="o">!</span>  <span class="p">{</span> <span class="o">[</span><span class="ss">Error</span><span class="p">:</span> <span class="no">EACCES</span><span class="p">,</span> <span class="n">mkdir</span> <span class="s1">&#39;/home/kader/.npm/sigmund/1.0.1&#39;</span><span class="o">]</span>
</span><span class='line'><span class="n">npm</span> <span class="no">ERR</span><span class="o">!</span>   <span class="ss">errno</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span><span class='line'><span class="n">npm</span> <span class="no">ERR</span><span class="o">!</span>   <span class="ss">code</span><span class="p">:</span> <span class="s1">&#39;EACCES&#39;</span><span class="p">,</span>
</span><span class='line'><span class="n">npm</span> <span class="no">ERR</span><span class="o">!</span>   <span class="ss">path</span><span class="p">:</span> <span class="s1">&#39;/home/kader/.npm/sigmund/1.0.1&#39;</span><span class="p">,</span>
</span><span class='line'><span class="n">npm</span> <span class="no">ERR</span><span class="o">!</span>   <span class="ss">parent</span><span class="p">:</span> <span class="s1">&#39;minimatch&#39;</span> <span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Böyle bir hata alırsanız, aşağıdaki adımları uygulayalım.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'> <span class="err">$</span> <span class="n">export</span> <span class="n">NPM_PREFIX</span><span class="o">=</span><span class="err">$</span><span class="n">HOME</span><span class="o">/</span><span class="n">node</span>
</span><span class='line'> <span class="err">$</span> <span class="n">alias</span> <span class="n">npmg</span><span class="o">=</span><span class="s">&quot;npm -g --prefix $NPM_PREFIX&quot;</span>
</span><span class='line'> <span class="err">$</span> <span class="n">sudo</span> <span class="n">chown</span> <span class="o">-</span><span class="n">R</span> <span class="sb">`whoami`</span> <span class="o">~/.</span><span class="n">npm</span>
</span><span class='line'> <span class="err">$</span>  <span class="n">npm</span> <span class="n">install</span> <span class="o">-</span><span class="n">g</span> <span class="n">grunt</span><span class="o">-</span><span class="n">cli</span>
</span><span class='line'><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">kader</span><span class="o">/.</span><span class="n">npm</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">grunt</span> <span class="o">-&gt;</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">kader</span><span class="o">/.</span><span class="n">npm</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">node_modules</span><span class="o">/</span><span class="n">grunt</span><span class="o">-</span><span class="n">cli</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">grunt</span>
</span><span class='line'><span class="n">grunt</span><span class="o">-</span><span class="n">cli</span><span class="nd">@0.1.13</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">kader</span><span class="o">/.</span><span class="n">npm</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">node_modules</span><span class="o">/</span><span class="n">grunt</span><span class="o">-</span><span class="n">cli</span>
</span><span class='line'><span class="err">├──</span> <span class="n">resolve</span><span class="nd">@0.3.1</span>
</span><span class='line'><span class="err">├──</span> <span class="n">nopt</span><span class="nd">@1.0.10</span> <span class="p">(</span><span class="n">abbrev</span><span class="nd">@1.0.7</span><span class="p">)</span>
</span><span class='line'><span class="err">└──</span> <span class="n">findup</span><span class="o">-</span><span class="n">sync</span><span class="nd">@0.1.3</span> <span class="p">(</span><span class="n">lodash</span><span class="nd">@2.4.2</span><span class="p">,</span> <span class="n">glob</span><span class="nd">@3.2.11</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>Şimdi her şey yolunda. Ve <font color=#990000>Appium</font> kurmaya hazırız!</p>

<p><code>$ npm install -g appium</code><br/>
<code>$ appium &amp;</code></p>

<p><font color=#990000>Appium</font>&lsquo;u Python ile kullandım ben onun için de <font color=purple>Appium Python Client</font> kurulumu;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">git</span> <span class="nb">clone</span> <span class="n">git</span><span class="vi">@github</span><span class="o">.</span><span class="n">com</span><span class="ss">:appium</span><span class="o">/</span><span class="n">python</span><span class="o">-</span><span class="n">client</span><span class="o">.</span><span class="n">git</span>
</span><span class='line'><span class="err">$</span> <span class="n">cd</span> <span class="n">python</span><span class="o">-</span><span class="n">client</span>
</span><span class='line'><span class="err">$</span> <span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</span></code></pre></td></tr></table></div></figure>


<p>veya</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="err">$</span> <span class="n">pip</span> <span class="n">install</span> <span class="no">Appium</span><span class="o">-</span><span class="no">Python</span><span class="o">-</span><span class="no">Client</span>
</span></code></pre></td></tr></table></div></figure>


<p>Herşey tamamlandıktan sonra test yazma aşamasında oluşturacağımız test dosyalarına<br/>
<code>from appium import webdriver</code><br/>
adımını dahil etmeyi unutmayalım.</p>

<p>Test dosyalarında adımları yazabilmek için <font color=#990000>Appium-Python</font> test diline hakim olmak gerekiyor.<br/>
Bir kaç test adımı örnek vermek gerekirse;</p>

<p>Dosyamızda Patformumuzun <font color=blue>Android</font> olmasını ve sürümünün 4.2 olmasını istediğimiz zaman;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">def</span> <span class="nf">setUp</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>    <span class="n">desired_caps</span> <span class="o">=</span> <span class="p">{}</span>
</span><span class='line'>    <span class="n">desired_caps</span><span class="p">[</span><span class="s">&#39;platformName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;Android&#39;</span>
</span><span class='line'>    <span class="n">desired_caps</span><span class="p">[</span><span class="s">&#39;platformVersion&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;4.2&#39;</span>
</span><span class='line'>    <span class="n">desired_caps</span><span class="p">[</span><span class="s">&#39;deviceName&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;Android Emulator&#39;</span>
</span><span class='line'>    <span class="n">desired_caps</span><span class="p">[</span><span class="s">&#39;app&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PATH</span><span class="p">(</span> <span class="s">&#39;../../../&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>   <font color=gray>#şu anki içeriğimizi çeksin <br/>
   <code>current = driver.current_context</code></p>

<p>   #HTML ağacındaki istenilen yeri bulsun<br/>
   <code>textfield = self.driver.find_elements_by_class_name("android.EditText")</code></p>

<p>   #Bulunan text alanının ilk boşluğuna mail adresi yazsın<br/>
   <code>textfields[0].send_keys("blabla@appium.io")</code></p>

<p>   #Mail doğru mu kontrol etsin. Olması gerekenle var olan değerler eşit mi?
   <code>self.assertEqual('blabla@appium.io', textfields[0].text)</code></p>

<p>   #Ekrana gelen mesajı onaylasın<br/>
   <code>alert = self.driver.switch_to_alert()</code><br/>
   <code>alert.accept()</code></p>

<p>   #Gönder tuşuna tıklasın<br/>
   <code>self.driver.find_element_by_accessibility_id("Save").click()</code></p>

<p>   #Dokunmatik telefondaki hareket etsin<br/>
   <code>action = TouchAction(self.driver);</code><br/>
   <code>action.long_press(start).move_to(end).release().perform()</code></p>

<p>   #Belitrilen xpath adresinde pano değeri görünmüyor mu kontrol etsin<br/>
   <code>pano = self.driver.find_element_by_xpath('//[]')</code><br/>
   <code>self.assertIsNotNone(pano)</code>   </font></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/02/09/rspec-nedir/">RSpec Nedir?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-02-09T19:41:16+02:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p><font color=red>Rspec</font> , Ruby dili ile yazılmış, ruby kodlarınızın testlerinde kullanılan bir test çatısıdır.</p></blockquote>

<p>RSpec ile ilk test kodlarımızı yazmaya başlayalım. Bunun için öncelikle rspec kurmalıyız. Dizinimizi yaratıp içine giriyoruz.<br/>
<code>mkdir example_rspec</code><br/>
<code>cd exapmle_rspec</code><br/>
<code>gem install rspec</code></p>

<p>Sonraki komutumuz, <br/>
<code>rspec --init</code><br/>
çıktımız ise;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'>  <span class="n">create</span>   <span class="o">.</span><span class="n">rspec</span>
</span><span class='line'>  <span class="n">create</span>   <span class="n">spec</span><span class="o">/</span><span class="n">spec_helper</span><span class="o">.</span><span class="n">rb</span>
</span></code></pre></td></tr></table></div></figure>


<p>Varsayılan olarak <font color=brown>.rspec</font> ve <font color=brown>spec_helper.rb</font> dosyalarını oluşturuyor.</p>

<blockquote><p><font color=brown>.rspec</font> gizli dosya olarak oluşturuluyor.<br/>
Bu dosya varsayılan olarak configurasyon seçeneklerini içeriyor.<br/>
İsterseniz bunları uygulamabilirsiniz veya deiğştirebilirsiniz.<br/>
Bu dosyada yer alan bazı seçenekler,</p></blockquote>

<p><font color=purple>&ndash;format progress:</font> Spec çalışmasında ilerlemeyi görüntüler. <br/>
<font color=purple>&ndash;out :</font> belirtilen dosyaya yönlendirme yapar.<br/>
<font color=purple>&ndash;color:</font> terminal çıktısında renk kullanır. Yeşil valid , red invalid testler için kullanılır.<br/>
<font color=purple>&ndash;fail-fast :</font> fail veren ilk testte spec durur.<br/>
<font color=purple>&ndash;format html:</font> Görüntüler html biçiminde bir dosyaya yönlendirilebilir. <br/>
Tüm seçeneklere erişmek isterseniz  <code>rspec --help</code> komutunu verebilirsiniz.</p>

<blockquote><p>Şimdide ana dizinimizin içinde <font color=brown>lib</font> dizini oluşturup kodlarımızı yazacağımız <font color=brown>ornek.rb</font> dosyası oluşturacağız.<br/>
Ayrıca ana dizinimizde <font color=purple>spec</font> dizinimizin altında bir <font color=purple>lib</font> dizini ve testlerimiz için <font color=purple>ornek_spec.rb</font> dosyası oluşturalım.</p></blockquote>

<p>project source code: <code>mkdir lib -&gt; cd lib -&gt; nano ornek.rb</code><br/>
rspec code:  <code>spec/lib/ornek_spec.rb</code></p>

<p>Burada <code>ornek_rspec.rb</code> dosyamıza test adımlarımızı yazacağız. <br/>
<code>ornek.rb</code> dosyamıza ise kodumuzun  kendisini yazacağız.</p>

<p>Şimdi <code>ornek_spec.rb</code> dosyamızı açıp içine,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s2">&quot;rspec&quot;</span>
</span><span class='line'><span class="nb">require</span> <span class="s2">&quot;spec_helper&quot;</span>
</span><span class='line'><span class="n">describe</span> <span class="s2">&quot;a example&quot;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">it</span> <span class="s2">&quot;is name Ornek&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p><font color=red>describe</font> ile oluturacağımız testi tanımlıyoruz.<br/>
<font color=red>it</font> oluşturulan testin tanımını yapıyoruz.</p>

<p>Kodumuzu yazıp kaydediyoruz ve <code>rspec spec/lib/ornek_spec.rb</code> komutu ile konsolda çalıştırdığımızda çıktımız;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">Pending</span><span class="p">:</span>
</span><span class='line'>  <span class="n">a</span> <span class="n">example</span> <span class="n">is</span> <span class="nb">name</span> <span class="no">Ornek</span>
</span><span class='line'>    <span class="c1"># Not yet implemented</span>
</span><span class='line'>    <span class="c1"># ./spec/lib/ornek_spec.rb:4</span>
</span><span class='line'>
</span><span class='line'><span class="no">Finished</span> <span class="k">in</span> <span class="mi">0</span><span class="o">.</span><span class="mo">0005</span><span class="mi">9</span> <span class="n">seconds</span> <span class="p">(</span><span class="n">files</span> <span class="n">took</span> <span class="mi">0</span><span class="o">.</span><span class="mi">10746</span> <span class="n">seconds</span> <span class="n">to</span> <span class="nb">load</span><span class="p">)</span>
</span><span class='line'><span class="mi">1</span> <span class="n">example</span><span class="p">,</span> <span class="mi">0</span> <span class="n">failures</span><span class="p">,</span> <span class="mi">1</span> <span class="n">pending</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Burada <font color=purple>Pending</font> ile  <font color=purple>Not yet implemented</font> çıktısı alıyoruz, kodumuzda şöyle bir değişiklik yaparsak;</p></blockquote>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="nb">require</span> <span class="s2">&quot;spec_helper&quot;</span>
</span><span class='line'><span class="c1">#describe &quot;a exapmle&quot; do</span>
</span><span class='line'><span class="n">describe</span> <span class="no">Example</span> <span class="k">do</span>
</span><span class='line'> <span class="n">it</span> <span class="s2">&quot;is name Ornek&quot;</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Kodumuzu kaydedip  <code>rspec spec/lib/ornek_spec.rb</code> komutuyla tekrar çalıştırırsak,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="sr">/example_rspec/s</span><span class="n">pec</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">example_spectop</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">initialized</span> <span class="n">constant</span> <span class="no">Example</span> <span class="p">(</span><span class="no">NameError</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><font color=brown>Uninitialized</font> hatası aldık çünkü Example classımız henüz yok.</p>

<blockquote><p>Burada önce testi yazıp, çalıştırıp, Fail aldık. Testin verdiği çıktıya göre de yeterli kodumuzu yazıp Faili, Pass edeceğiz.
Bu da <font color=red>Test Driven Development (TDD)</font> yapısına uymakta.</p></blockquote>

<p>Bunun için <code>lib/ornek.rb</code> dosyamızda,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Example</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Şimdilik Classımızı oluşturmuş olduk. Test çalıştığında Classı bulamadım hatası vermeyecek.<br/>
Bu classı da <code>spec/lib/ornek_spec.rb</code> dosyamıza haber vereceğiz. Onu da <code>require "example"</code> komutunu  <code>lib/ornek_spec.rb</code> dosyamıza ekleyerek sağlayacağız, ekledikten sonra;</p>

<p><code>spec/lib/ornek_spec.rb</code> komutunu verdiğimizde,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="ss">Pending</span><span class="p">:</span>
</span><span class='line'>  <span class="no">Example</span> <span class="n">is</span> <span class="nb">name</span> <span class="no">Ornek</span>
</span><span class='line'>    <span class="c1"># Not yet implemented</span>
</span><span class='line'>    <span class="c1"># ./spec/lib/ornek_spec.rb:5</span>
</span><span class='line'>
</span><span class='line'><span class="no">Finished</span> <span class="k">in</span> <span class="mi">0</span><span class="o">.</span><span class="mo">0002</span><span class="mi">9</span> <span class="n">seconds</span> <span class="p">(</span><span class="n">files</span> <span class="n">took</span> <span class="mi">0</span><span class="o">.</span><span class="mi">10765</span> <span class="n">seconds</span> <span class="n">to</span> <span class="nb">load</span><span class="p">)</span>
</span><span class='line'><span class="mi">1</span> <span class="n">example</span><span class="p">,</span> <span class="mi">0</span> <span class="n">failures</span><span class="p">,</span> <span class="mi">1</span> <span class="n">pending</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>Gördüğünüz gibi hata almadık. Fakat hala implement edilmediğini söylüyor.</p>

<p>Şimdi de <code>spec/lib/ornek_spec.rb</code> dosyamıza bişeyler dolduralım;</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">it</span> <span class="s2">&quot;is name Ornek&quot;</span> <span class="k">do</span>
</span><span class='line'>  <span class="n">new_example</span> <span class="o">=</span><span class="no">Example</span><span class="o">.</span><span class="n">new</span>
</span><span class='line'>  <span class="n">new_example</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s1">&#39;Ornek&#39;</span>
</span><span class='line'> <span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Kodumuz da yeni bir Ornek methodu oluştuğunda ve adının Ornek olmasını istediğimizi söyledik.</p>

<p>Testimiz çalıştığında yeni oluşan örnek methodunun adını kontrol edip bunun &lsquo;Ornek&rsquo; olup olmadığını kontrol edecek.<br/>
Eğer adı &lsquo;Ornek&rsquo; ise testimiz <font color=green>Pass</font> edecek değilse <font color=red>Fail</font> edecek.</p>

<p>Testimizi kaydettikten sonra <code>rspec spec/lib/example_spec.rb</code> komutunu kullanarak çalıştırıyoruz ve çıktımız,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="mi">1</span><span class="p">)</span> <span class="n">E</span> <span class="n">is</span> <span class="nb">name</span> <span class="no">Ornek</span>
</span><span class='line'>     <span class="no">Failure</span><span class="o">/</span><span class="ss">Error</span><span class="p">:</span> <span class="n">new_example</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">should</span> <span class="o">==</span> <span class="s1">&#39;Ornek&#39;</span>
</span><span class='line'>     <span class="ss">NoMethodError</span><span class="p">:</span>
</span><span class='line'>       <span class="n">undefined</span> <span class="nb">method</span> <span class="sb">`name&#39; for #&lt;Example:0x007f5f89721c40&gt;</span>
</span><span class='line'><span class="sb">     # ./spec/lib/ornek_spec.rb:7:in `</span><span class="n">block</span> <span class="p">(</span><span class="mi">2</span> <span class="n">levels</span><span class="p">)</span> <span class="k">in</span> <span class="o">&lt;</span><span class="n">top</span> <span class="p">(</span><span class="n">required</span><span class="p">)</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="no">Finished</span> <span class="k">in</span> <span class="mi">0</span><span class="o">.</span><span class="mo">00045</span> <span class="n">seconds</span> <span class="p">(</span><span class="n">files</span> <span class="n">took</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1093</span> <span class="n">seconds</span> <span class="n">to</span> <span class="nb">load</span><span class="p">)</span>
</span><span class='line'><span class="mi">1</span> <span class="n">example</span><span class="p">,</span> <span class="mi">1</span> <span class="n">failure</span>
</span></code></pre></td></tr></table></div></figure>


<p><font color=brown>NoMethodError</font> hatamızı aldık. Hatırlarsanız boş bir Class oluşturmuştuk, boş Classa gitti ve Ornek adında bir method bulamadı.</p>

<p>Şimdi kod parçamızdaki Classımızı hatamızı yok edecek şekilde düzenlemeliyiz.<br/>
Kırmızıyı yeşile çevirme aşaması. Değişikliklerimizi source kodumuzda yapacağız ki testimiz fail vermesin.</p>

<p><code>nano lib/ornek.rb</code></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="k">class</span> <span class="nc">Example</span>
</span><span class='line'>  <span class="kp">attr_accessor</span> <span class="ss">:name</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">initialize</span>
</span><span class='line'>    <span class="vi">@name</span> <span class="o">=</span> <span class="s1">&#39;Ornek&#39;</span>
</span><span class='line'>  <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>


<p>Testimizi <code>rspec spec/lib/ornek_spec.rb</code> komutumuzla tekrar calıştırdığımızda,</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">Finished</span> <span class="k">in</span> <span class="mi">0</span><span class="o">.</span><span class="mo">00212</span> <span class="n">seconds</span> <span class="p">(</span><span class="n">files</span> <span class="n">took</span> <span class="mi">0</span><span class="o">.</span><span class="mi">11077</span> <span class="n">seconds</span> <span class="n">to</span> <span class="nb">load</span><span class="p">)</span>
</span><span class='line'><span class="mi">1</span> <span class="n">example</span><span class="p">,</span> <span class="mi">0</span> <span class="n">failures</span>
</span></code></pre></td></tr></table></div></figure>


<p>Görüyoruz ki kırmızı yazımız yeşile dönmüş durumda. Testimiz Fail vermedi.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/01/20/tdd-ve-bdd-nedir/">TDD Ve BDD Nedir?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2015-01-20T09:40:23+02:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><font color=red>TDD ve BDD</font></p>

<blockquote><p><font color=brown>Test Driven Development</font> nedir ?<br/>
  Burada mantık, önce testi yazacaksın sonra testi geçen kodları yazacaksın.<br/>
Belki size ters gelebilir ama durum aynen böyle.</p></blockquote>

<p>• Hiç bir kod yazmadan önce oluşturduğumuz testi çalıştrıyoruz, doğal olarak test adımları gerçekleyemediği için başarısız oluyor.</p>

<p>• Daha sonra bu testi doğru çalıştıracak kod parçasını yazıyoruz.</p>

<p>• İçeriği dolan kodlarla testin çalışacağı temel şekilleniyor. Testimizi şimdi çalıştırdığımızda içeriği dolmuş test parçası amacımızı gerçeklediğinden testimiz çalışmış, yazılan kodlar da testten başarı ile geçmiş oluyor.</p>

<p><img src="http://i.imgur.com/gwdBWy9.png"></p>

<p>Olaya <font color=brown>TDD</font> ile baktığımız zaman <font color=red>red/</font><font color=green>green/</font><font color=#FFCC00>refactor</font> tasarımları gelecek gözümüze.</p>

<blockquote><p>Eğer kodumuzu yazmayı bitirdikten sonra testleri yazmaya başlarsak buradaki patlayacağımızı öğrendik artık. Patlayan yerleri sürekli düzeltmek yerine test formları ile sorumlulukları belirleyip ilerlemek daha mantıklı.</p></blockquote>

<p>• Fail aldığımız yerde fail yok edecek yeterli bir kodu yazmak işimizi görecek. <br/>
• Kodumuz pass döndüğünde herşey yolundadır.
• En son aşamada kodumuza tekrar dönüp, tekrarlı yerleri silip kodumuzu düzenleriz (refactoring).</p>

<blockquote><p>O zaman sıramız söyle olacak önce bir test çalıştıracağız <font color=red>fail</font> dönecek bunu <font color=green>pass</font> yapacak hale getireceğiz sonra <font color=#FFCC00>refactor</font> edeceğiz.</p></blockquote>

<p>Önce test yazmak bizim olası hatalar yapmamızı engeller ve test adımlarını uygulaya uygulaya gittiğimizden büyük kod parçalarını da hatasız oluşturmayı sağlar.</p>

<blockquote><p><font color=brown>Behaviour Driven Development</font> nedir ?<br/>
Bu yöntem hem yazılımı daha test odaklı yapar hem de developerın yazdığı kodları , işi yaptıran kişinin de anlamasını sağlıyor.<br/>
 Burada konuşma dili gibi yazdığımız için anlaşılması da kolay oluyor.</p></blockquote>

<p>• Ben bir [X] olarak<br/>
• [Y]&lsquo;yi yapmak istiyorum<br/>
• Böylece [Z] olur</p>

<blockquote><p>Burada Y herhangi bir özellik, Z bu özelliğin getirdiği artı, X ise Y'yi uygulayacak kullanıcı veya bir faktördür.
Yukarıdaki adımları BDD da yazımı ;</p></blockquote>

<p><font color=purple>Given</font><br/>
<font color=brown>When</font> <br/>
<font color=red>Then</font></p>

<p><em>&ndash;Bir kullanıcı dosya yükler&ndash;</em><br/>
• Ben bir kullanıcı olarak<br/>
• Dropbox hesabıma dosya yüklemek istiyorum<br/>
• Böylece dosyalarımı daha güvenli şekilde saklamış olurum.</p>

<p>Burada senaryomuzun gerçekleşmesi için bir Dropbox hesabımız olmalı ve yüklenecek bir dosyamız olmalı.<br/>
Bu senaryomuzu BDD ile <font color=red> given - when - then  </font> kullanarak yazacak olursak;</p>

<p>&ndash;Bir hesabımız var ve yüklenecek dosyaya sahibiz;</p>

<p>• <font color=purple>Given</font> var olan bir hesap And yüklenecek dosya</p>

<p>• <font color=brown>When</font> kullanıcı dosya yüklemek istediği zaman</p>

<p>• <font color=red>Then</font> dosyanın dropbox hesabına yüklendiğine emin ol</p>

<p>Gördüğünüz gibi kullanımı oldukça basit , konuşur gibi test adımları oluşturuyoruz. Yapmak istediğimizi ve beklentimizi bu kalıplarda oluşturmuş oluyoruz.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/20/selenium-ve-browserstack/">Selenium Ve BrowserStack</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-20T00:27:52+03:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Selenium Senaryomuzdan yola çıkarak Selenium Testimizi yazdık. Şimdi kendi localimizde düzgün çalışan testimiz acaba farklı işletim sistemlerinde ve farklı browserlarda onların farklı sürümlerinde de sorunsuz çalışıyor mu?</p>

<p>Web tasarımcıların en büyük sorunlarından birisi ortaya çıkan tasarımın farklı tarayıcılarda farklı şekilde görüntülenmesidir. Bunun nedeni yazılan <font color=purple>HTML, CSS veya javascript</font> kodlarının her tarayıcıda farklı şekilde yorumlanmasıdır.</p>

<p>Ben Linuxta Firefox kullanıyorum ve testlerimi bunlar üzerinden yazıyorum. Fakat oluşturduğunuz siteyi kullanan kişiler<font color=purple> Internet Explorer, Mozilla, Chrome, Firefox, Opera, Safari hatta iOS ve Android </font>gibi farklı tarayıcılardan sitenize erişmek isteyebilir. Bu yüzden oluşturduğunuz sitenin bu tarayıcıların hepsinde düzgün bir şekilde çalışması gerekir.</p>

<p>Oluşturduğunuz herhangi bir veriyi değişik tarayıcılarda test etmek gerçekten zordur.Bunun için bir çok tarayıcıda , platformda manuel test yapmak gerekir.<br/>
Browserstack ise 300'den fazla farklı tarayıcıda test etme imkanı ile farklı işletim sistemi , farklı tarayıcılar , farklı sürümlerle sitemizi test edip, ekran görüntüsünü bizimle paylaşır.</p>

<p>Browserstack bu alanda oldukça iyi, ancak ücretli. Denemek için ilk yarım saat ücretsiz. <a href="http://www.browserstack.com/screenshots">http://www.browserstack.com/screenshots</a> adresi ile sitesine girip üyelik alabilirsiniz.</p>

<p><img src="http://i.imgur.com/wWeZXAV.jpg"></p>

<p>Senaryosunu ve Selenium testini oluşturduğumuz testimizi Selenium'da <font color=red> Python, Ruby, Java ve CSharp</font> dillerini kullanabilecegimiz test case’lere dönüştürürüz. Çevirme işlemini Selenium bizim için yapıyor.</p>

<p>Selenium’un kullanmis oldugu kodlari istedigimiz dile dönüştürmek için <font color=purple> File</font> menusunden<font color=purple>  Export Test Case As… </font>‘i tikliyoruz. Menunun alt menüsünde ise dönüştürmek isteiğimiz dili seçiyoruz.
Bizim yazdığımız test üzeriden gidersek biz <font color=purple>Ruby'e</font> çevireceğiz;</p>

<p><img src="http://i.imgur.com/8bwWLQj.jpg"></p>

<p><font color=purple>Selenium</font>kodlarımız bu şekilde otomatik olarak <font color=purple>Ruby</font> kodlarına dönüşmüş olur;</p>

<p><img src="http://i.imgur.com/03iFFrF.jpg"></p>

<p>Testimizi Ruby kodlarına çevirmiş olduk. BrowserStack'te  Python Ruby Java C# Perl PHP Node.js  dillerini desteklenmektedir.<br/>
.rb uzantılı dosyamızı biz de BrowserStacke yükleyerek istediğimiz platformda testimizi çalıştırabiliriz. Linux, Firefox üzerinde yazdığım testim acaba Windows Chrome da çalışır durumda mı bunu test edelim. .rb uzantılı dosyamızı yollayalım ve Screenshotlarla adımları takip edelim.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/07/selenium-ide/">Selenium IDE</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-07T20:51:12+03:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Test senaryolarımızı Selenium-IDE ile hayata geçireğiz. Senaryomuzun adımlarını anlayıp Selenium-İde de onlara uygun komutları bulup çalışabilir bir test oluşturacağız. Bir önceki yazımda bulunan test senaryosunu kullanacağım.</p>

<p>Seleniumda kodlarımızı yazabilmek için <font color=red>Command</font> kısmına yazacağımız komutların anlamını ve <font color=red>Target</font> kısmına yazacağımız yer bulucularını kullanmayı öğrenmeliyiz.</p>

<blockquote><p><font color=brown>İlk adım;</font></p></blockquote>

<ol>
<li><font color=grey><em>Go to</em> <a href="https://borc_takibi.herokuapp.com/">https://borc_takibi.herokuapp.com/</a></font></li>
</ol>


<p>Bu adıma uygun selenium komutumuz <font color=red> <em>Open</em></font> komutu olacak.<br/>
<font color=purple> Open</font> komutu ile herhangi bir URL adresini <font color=purple>Seleneium</font>da açabiliriz.<br/>
Open komutunu seleniumda yazıp Run! dersek istediğimiz sayfa resimdeki gibi açılmış olacak.</p>

<p><img src="http://i.imgur.com/xk8wDPm.png"></p>

<p><img src="http://i.imgur.com/GBxhLQs.png"></p>

<blockquote><p><font color=brown>İkinci adım;</font></p></blockquote>

<p>2.<font color=grey><em>Verify that &ldquo;BORÇ TAKİBİ&rdquo; appeared on the page</em></font></p>

<p>Sayfamızı <font color=purple> Open</font> komutu ile açmış olduk. Şimdi sayfamızın açıldığı kontrolünü de verify ile yazdığımız komutlarla sağlayacağız. Verify adımlarını <font color=purple>Assert </font> komutları ile yapacağız. Assert ile yazılan selenium komutları, eğer istenilen adım gerçekleşmemişse testi durdurur. Yanlış giden bir durum varsa engellenmiş olur.<br/>
Ben kısaca en çok kullanılacak bir kaç Assert komutundan bahsedeyim;</p>

<p><font color=red>AssertElementPresent(locator),</font>  bu komutumuz ekrandaki hedeflenen elemanı sayfada arar. Elemanı bulursa true bulamazsa false döndürür.<br/>
<font color=red>AssertTextPresent(pattern),</font>   bu komutumuz ekranda görmek istediğimiz yazıyı kontrol eder istenen metin ekranda varsa true yoksa false döndürür.<br/>
<font color=red>AssertVisible(locator),</font>  belirtilen ögenin görünür durumda olup olmadığı kontrolünü yapar , true veya false döndürür.<br/>
<font color=red>AssertTitle(pattern), </font>  geçerli sayfanın başlığını kontrol eder,  sayfa geçişlerinde başlık değişmiş mi kontrolü için işimize epey yarar.</p>

<p>Tekrar senaryomuza dönersek sayfamız açıldı ve beklediğimiz yazı geldi mi kontrolü için <font color=purple>AssertTextPresent</font> komutunu kullanacağız.<br/>
Sayfamızı açtık kontrolümüzü sağladık resimde de görüldüğü gibi;</p>

<p><img src="http://i.imgur.com/hdNn3Gk.png"></p>

<blockquote><p><font color=brown>Üçüncü adım;</font></p></blockquote>

<p>3.<font color=grey>  <em>Click on &ldquo;Arkadaş Ekle&rdquo; button</em></font><br/>
Bu adımımızda dikkatinizi iki komuta çekeceğim;<br/>
<font color=red><em>Click</em></font> ve  <font color=red><em>ClickAndWait</em></font><br/>
Bu komutları butona, seçeneklere tıklama işlemlerinde kullanıyoruz. Fakat aralarında bir fark var. Sayfa geçişlerinde butona tıkladıktan sonra sayfanın yüklenebilmesi için bir bekleme süremiz vardır işte bu beklemeyi ayarlayan butona tıklayan komut, <font color=purple>ClickAndWait</font> komutudur.<br/>
Sadece click işlemi yapacaksak, aynı sayfada kalıp o sayfa içindeki işlemlerimizi hal edeceksek  <font color=purple> Click </font>  komutunu kullanmalıyız. <br/>
Eğer aynı sayfadaysanız ve yaptığınız işlem sayfa değiştirmediyse, gene de tıkladıktan sonra beklememiz gereken işlem varsa işte onun içinde <font color=purple><em>Pause</em></font> komutunu kullanırız.<font color=purple> Pause </font> komutunda bekleme süresini siz ayarlarsınız, komutu verip bekleme süresini de yazarsak <font color=purple>click</font> işleminden sonra o süre kadar bekler.<br/>
Peki bekleme işlemi yapmasak neler olur? Biz selenium testlermizi fast konumda çalıştırırız. Adımlar akar gider siz o bekleme işini hesaba katmazsanız hala o işle oyalanırsa selenıum ikinci adımda yapması gereken işi arar ve bulamadığı için test patlar.<br/>
Testimize dönersek şimdi burada sayfa geçişi işi yapacağımız için <font color=purple>ClickAndWait</font> komutunu kullanacağız.</p>

<p>Komutumuzu yazdıktan sonra <font color=purple>clickandwait</font> işlemini yapacağımız yeri belirlemeliyiz.<br/>
<font color=purple>Selenium IDE</font> de çoğunlukla<font color=red> CSS Locator, Xpath, Locator</font>&lsquo;ları (Yer Bulucuları) kullanacağız.
<font color=purple>Xpath</font>, Selenium IDE de kullanılan bir yol göstericidir.Veritabanında sorgu çekileceği zaman Test Case'de sorguyu Path'e vermek için kullanılır. Bu Locatorı daha çok bu iş için kullanırız.<br/>
<font color=purple>CSS Locator</font> ise <font color=purple>Xpath</font> nazaran daha hızlıdır. Bu yer bulucuyu Web sitelerinde yer alan HTML sıralamasında <font color=purple>CSS class</font> ve <font color=purple>CSS id</font>'leri bularak kullanırız.<br/>
Erişmek istediğiniz yere <font color=purple>İnspect Element</font> derseniz Web sayfamızın bilgileri çıkar, erişeceğimiz yerinde HTML ağacındaki yeri bu bilginin içinde farklı renkte gözükür bize. O satıra sağ tıklayıp <font color=purple>Copy Unique Selector</font> dersek erişceğimiz yerin <font color=purple>Css</font> olarak adresi kopyalanmış olur. Bu kolay yolumuz olsun. Ama extrem şeyler için <font color=purple>Css ve Xpath</font> kullanmayı öğrenirsek işimiz kolaylaşır.<br/>
Adımları resimlerde de görelim.</p>

<p> <img src="http://i.imgur.com/AenyHlm.png"></p>

<p>Kopyaladığımız Css Adresini Komutumuzun Target alanını css=&hellip; olacak şekilde  yazdık. <font color=purple>Seleniumda</font> <font color=red>find</font> butonuna tıklarsak Target kısmına yazdığımız css ile bulduğumuz yeri gösterir bize, burada sarı renk alır.</p>

<p><img src="http://i.imgur.com/w1fxvXy.png"></p>

<p>4.<font color=grey> <em>Verify that &ldquo;Yeni Borçlu Ekle&rdquo; appeared on the page</em></font><br/>
Burada gene bir metin kontrolu var ve <font color=purple>AssertTextPresent</font> kullanacağız.</p>

<p>5.<font color=grey> <em>Fill in &ldquo;Borçlunun Adı Soyadı:&rdquo;,&ldquo;E-Mail Adresi:&rdquo;,&ldquo;Twitter Kullanıcı Adi:&rdquo; sections</em> </font><br/>
Bu adımda text alanlarını dolduracağız. Bunu <font color=purple>Seleniumda</font> <font color=red><em>Type(locator,pattern)</em></font> komutu ile sağlarız.<br/>
Parantez içine yazdığım şeylerden ilki <font color=purple>Target</font> ikincisi <font color=purple>Value</font> alanlarına yazılacak şeyler.<br/>
<font color=purple>Command</font> kısmına ise komutumuzun kendisi gelecek bu adım için <font color=purple> Type</font> komutu gelecek. Borçlu adı soyadı yazma şekli resimdeki gibi ;<br/>
<img src="http://i.imgur.com/8VXUT2X.png" alt="" /></p></p>

<p>aynı şekilde borçlu emaili ve twitter kullanıcı adı da böyle yazılacak.</p>

<p><img src="http://i.imgur.com/Kwfvqr5.png">
<img src="http://i.imgur.com/I3qWn1j.png"></p>

<p>6.<font color=grey> <em>Click on &ldquo;Create Friend&rdquo; button</em></font>
Burada bir sayfa geçişi söz konusu o zaman <font color=purple>ClickAndWait</font> komutu kullanmamız gerekir.<br/>
Create butonuna tıklayıp farklı bir sayfaya geçeriz resimdeki gibi;</p>

<p><img src="http://i.imgur.com/Rte0GRk.png"></p>

<p>7.<font color=grey> <em>Verify that &ldquo; Successful Created.&rdquo; appeared on the page</em> </font><br/>
Burada bir yazı kontrolümüz var <font color=purple> AssertTextPresent</font> yapacağız.</p>

<p><img src="http://i.imgur.com/iGZ7M9N.png"></p>

<p>Adımlarımızı Seleniumda yazdıktan sonra <font color=red>Run!</font> komutunu veririz ve <font color=red>Log</font> kısmından testimizin çalışmasını takip ederiz, hatasız adımlar yeşil renk olur.</p>

<p><img src="http://i.imgur.com/XAxycM0.png"></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/07/selenium-ikinci-asama/">Test Senaryolarını Anlama</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-07T00:00:18+03:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yazdığımız uygulamalarda ,programlarda kodlarımız sayfalar dolu olsun ama arada öyle bir yer varki bizim gözümüzden kaçtı unuttuk yada yaptığımız yeni bir dokunuş uygulamanın herhangi bir yerini bozdu ve orası çalışmıyor.<br/>
Kullanıcı ise sizden önce bunun çalışmadığını fark etti. Uygulamanızın çok kritik işler yaptığını düşünürsek o küçüçük eksikliğin bile büyük hasarlar getireceğini unutmayalım.<br/>
Oluşturduguz bu ürün kulanıcı tarafından hoş karşılanmaz ve müşteri kaybına uğramış olursunuz.<br/>
Bu ve bunun gibi bir çok senaryoyu kafamızda düşünebiliriz.<br/>
Milyon dolarlık ürünlerin internet üzerinden satışını yapacağınız anda &ldquo;satın al&rdquo; butonunun çalışmayıp müşteri kaybetmeniz gibi çoğaltabiliriz.</p>

<p>Testlerin başka bir güzelliği de var örneğin firefoxda çalıştırdığımız uygulamanın hiç hatası yok her şey mükemmel sanıyoruz ki aslında üzerinde çalıştığınız uygulama  chrome da yada explorerda çalışmayabilir, sadece o da değil işletim sistemi değiştiğinde de çalışmayabilir. Linux da çalışan şey windowsta çalışmayabilir. Bu uygulamayı insan gücü ile her şeyiyle kontrol etmesi çok zor..</p>

<p>Test yazma işini 3 aşamada yapacağız;<br/>
Öncelikle test yazmak için elimizde bir <font color=red> Test Senaryosu </font> olmalı.<br/>
İkinci aşama da ise senaryomuzu <font color=red> Selenium IDE </font> de yazıp test adımlarımızı çalıştırıp görmeliyiz.<br/>
Son aşama da ise Selenium IDE sorunsuz çalışan testimizi Ruby koduna çevirip <font color=red > BrowserStack</font>&lsquo;e yükleyip birçok Browser ve işletim sistemi için test etmeyi sağlamalıyız.</p>

<p>Test yazma işi oldukça önemli , senaryolarımızı analiz ederek Selenium koduna dökebilmeliyiz.</p>

<p>Testleriniz anlaşılır olmalı öyle ki sizin yazdığınız bir senaryoyu bir başkası da okuyarak o testi yazabilmeli.</p>

<p>Testlerimizi benim oluşturduğum basit bir Rails uygulaması üzerinden anlatacağım.</p>

<p><font color=#bf5f00>Şimdi ilk senaryomuzu sunuyorum ;</font></p>

<pre><code>1.Go to https://heroku
   1.1 Verify that "BORÇ TAKİBİ" appeared on the page  

2.Click on "Arkadaş Ekle" button  
   2.1 Verify that "Yeni Borçlu Ekle" appeared on the page  

3.Fill in "Borçlunun Adı Soyadı:","E-Mail Adresi:","Twitter Kullanıcı Adi:" sections

4.Click on "Create Friend" button  
   4.1 Verify that " Successful Created. " appeared on the page  
</code></pre>

<blockquote><p><font color=#ff5656>Dört adımlık bir test senaryosu oluşturduk şimdi senaryomuzu anlayalım; </font></p>

<p><font color=brown>İlk adımda;</font></p></blockquote>

<p><font color=purple><em>Go to</em></font> komutu ile Sayfamızı browserdan açtırıyoruz ve sayfamız açıldı mı kontrolünü ise <font color=purple><em>Verify</em></font> komutu ile oluşturuyoruz. Sayfa açıldığında görmek istediğimiz yazı her ne ise onu yazıyoruz eğer bu yazı geldiyse butonumuz çalışıyor ve doğru adresteyiz demektir.</p>

<blockquote><p><font color=brown>İkinci adımda;</font></p></blockquote>

<p>Arkadaş ekle butonumuzdan bir arkadaş ekleyeceğiz. <font color=purple><em>Click</em></font> komutu ile butona tıklama işlemini yapıyoruz. Arkadaş ekle butonuna tıkladıktan sonra görmek istediğimiz sayfadaki herhangi ayırt edici bir yazıyı <font color=purple><em>Verify</em></font> ile kontrol edip sayfa açılmış mı, arkadaş ekle butonu çalışmış mı kontrolünü yaptık. <font color=purple><em>Verify</em></font> ile yazılan adımlar önemli işin içinde bir kontrol yoksa testiniz click clickten ibaret olur bu da işimize yaramaz bir şeyi test etmiş olmayız.</p>

<blockquote><p><font color=brown>Üçüncü adımda;</font></p></blockquote>

<p>Arkadaş ekle sayfasındaki doldurulması gereken yerleri <font color=purple> <em>Fill in</em></font> komutu ile sağladık.</p>

<blockquote><p><font color=brown>Dördüncü adımda;</font></p></blockquote>

<p><font color=purple><em>Click</em></font> komutu ile Arkadaşımızı oluştur dedik. Akabinde <font color=purple><em>Verify</em></font> komutu ile sonraki adımda karşımıza çıkacak ayırt edici herhangi yazıyı kullanarak arkadaşımız oluşmuş mu diye kontrol ettik.  Butona tıklandıktan sonra istediğimiz sayfaya geçiş sağlanmış mı kontrol etmiş olduk.</p>

<p>Ayırt edici yazıdan kastım; eğer bir önceki sayfada da aynı yazı varsa ve senin butonun çalışmadı bozuk diyelim , sayfa geçişi sağlayamadın ve aynı sayfada kaldın. Kontrol ettiğin yazı bulunduğun sayfada zaten vardı sayfa geçişi yapmadığın halde verify ile kontrol ettiğin yer true dönüp seni yanıltabilir, butonun doğru çalışmadığı halde fark edemezsin.</p>

<p>Ayrıca burada yazı değil bir elementi ,bir alert mesajını, bir title yada bir modal kontrolü de yapabilirsin.</p>

<p>Özetle test senaryolarında her adımı <font color=brown><em>click, select, fill in , fill out, choose</em></font> gibi komutlarla anlaşılır biçimde yazıyoruz. Adım sonlarında kontrolü sağlamak için de <font color=brown><em>Verify</em></font> komutunu kulanıyoruz.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/19/selenium/">Selenium</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-19T17:23:59+02:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><font color='red'> Selenium </font>  web tabanlı uygulamaların testlerini browser üzerinden yapmamızı sağlayan bir araçtır.<br/>
Tüm web testlerinin yapılabileceği açık kaynak kodlu bir test aracıdır. Diğer test araçlarına göre daha fazla gelişmiştir.<br/>
Web ortamında testlerinizi kaydetme , çalıştırabilme, düzeltme, yeniden test etme imkanı verir.<br/>
Test adımları için <font color='purple'> java, ruby, python </font> gibi farklı yazılım dilleri kullanılabilir.</p>

<p>Test adımlarını web üzerinden görebilmek için <font color='red'>  selenium-ide  </font> kullanılır.Selenium-ide firefox için geliştirilmiş bir eklentidir.</p>

<p>Seleniumda firefoxdaki haraketlerimizi kayıt edebilir ve sonraki ürettiğimiz test kodlarını otomotik testler için kullanabiliriz.</p>

<p>Şimdi 4 adımda bir senaryo düşünelim , <a href="http://www.sahibinden.com/">http://www.sahibinden.com/</a> adresine girdik<br/>
<font color='red'>1-</font>  siteyi açtım<br/>
<font color='red'>2-</font>  arama kısmına tıkladım, telefon yazdım, aradım<br/>
<font color='red'>3-</font>  ilk çıkan sonuca tıkladım<br/>
<font color='red'>4-</font>  ilan no : 3123123 tarzı bişey yazıyo mu onu kontrol ettim</p>

<p>Diyelim ki sahibinden.com'da çalışıyoruz, kod yazdık, aramayı güçlendiriyoruz.<br/>
Kodumuzdan öyle eminiz ki, ya da arama kısmıyla beraber ürünle ilgili de bi kod yazıyoruz, en ucra köşede bir kod, evet kodumuz çalışıyor.  Ama, ya aramayı bozmuşsa? Ya aralarında bağ varsa? Ya ilan numarası gelmiyorsa? Sırf o yazdığımız küçük kod yüzünden? Bunlar olabilir..</p>

<p>Tester larımız vardır, click clickçiler, şu yukarıdaki senaryomuzu ona veririz, ve her bir güncellemede, bunları test eder.<br/>
Sen de bunu doğrularsın; kodun, aramayı bozmamış. Bunun gibi 100lerce senaryo düşünürsek;<br/>
Mesaj göndersin, paylaşsın, yazdırsın, favorilere eklesin vs..</p>

<p>Peki hep click clickçilerle mi uğraşaçağız? Bir sürü para, + insan, yanılabilir. İşte bu aşamada ,automated ui tests devreye giriyor..</p>

<p>Şimdi, <font color='purple'>  Selenium </font>  kendini burada gösteriyor kendi içinde,  <font color='purple'> “tıkla” , “aç”, “doğrula”, “yaz” </font> gibi automated test için çok kullanılan fonksiyonlara sahip.<br/>
Biz de onu kullanarak, senaryoyu yazarız. Ve <font color='red'>  RUN! </font> dediğimiz an , kendine kendine bizim senaryomuzu çalıştırır, ve bize, evet çalıştırdım, düzgün çalışıyor yada eğer bozuksa hata var! gibi çıktılar verir.<br/>
Biz her güncelleme yaptığımızda , sadece <font color='red'> RUN! </font> diyerek bu testimizi çalıştırabiliriz bu sayede.</p>

<p>Burada <font color='purple'> Selenium-İde </font> görüntüsü yer almakta ve aşağıda da açıklanmakta.</p>

<p><img src="http://i.imgur.com/4b584hS.png" alt="" /></p>

<p><font color='red'>  Selenium'da </font>;<br/>
<font color='brown'> 1-Dosya seçeneği </font>, yeni veya önceden açılmış test case açmaya , kaydetmeye,yarar.<br/>
<font color='brown'> 2-Düzenle seçeneği </font>, kontrol işlemlerini yapar (kes,yapıstır, geri al gibi).<br/>
<font color='brown'> 3-Options seçeneği </font>, ide ile alakalı ayarlar yapılır, varsayılan ide dili değiştirilir.<br/>
  <font color='brown'> 3.1-Options-Options seçeneği </font>, karakter kodlaması ve “*wait” komutu için milisaniye cinsinden sürenin belirlenmesi bu kısımda yapılır.Varsayılan bekleme süresi 30 sn .ayrıca bu bölümde kişisel java scriptler yüklenebilir.<br/>
  <font color='brown'> 3.2-Options-Format seçeneği </font>, html dilindeki scriptleri başka dile çevirmeye yarar.<br/>
  <font color='brown'> 3.3-Options-Clipboard format seçeneği </font> , hızlı şekilde mevcut diğer dillere çevirme işlemini yapar.</p>

<p><font color='purple'>Base URL </font>, test yapılmak istenen url adresi bu bölüme yazılır. Eğer kayıtlı bir test case varsa test case çalıştırıldığında bu url otomatık olarak gelir.<br/>
<font color='purple'>Fast &amp; slow </font>, bu kısımda testin hızı ayarlanır. Hız göstergesi ile 1 ile 10 arasındadır. Testin varsayılan hızı 10 dur.<br/>
<font color='purple'>Play all </font>, tüm test caseleri çalıştırmak için kullanılır.<br/>
<font color='purple'>Play </font>, üzerinde çalışılan test case çalıştırır.<br/>
<font color='purple'>Pause </font>, çalıştırılmış bir test case bekletir.<br/>
<font color='purple'>Step </font>, bekletilmiş bir test case adım adım ilerletir.<br/>
<font color='purple'>Test runner </font>, selenium kodunu, test case ve test yapılan siteyi gösterir.<br/>
<font color='purple'>Record </font>, testi kaydetmek ve testi durdurmak için kullanılır. Selenium-ide ilk başlatıldığında kayıt otomatik başlar.</p>

<p><font color='red'> Log: </font> testin çalıştırılması ile hatalı ve başarılı işlemlerin kaydını tutar.<br/>
<font color='red'> Reference: </font> Komutların açıklanmasını gösterir. Komutların nasıl kullanılacağı burada anlatılmaktadır.</p>

<h3>Selenium Nasıl Çalışır?</h3>

<p><font color='red'>1-Command: </font> Test için senaryomuzdaki komutları girdiğimiz yer.Bazı komutlar;</p>

<p>   <font color='purple'>Open: </font> Verilern URL'ye(siteye) ait web sayfasını açmak için kullanılır.<br/>
   <font color='purple'>Click: </font> Bir nesneyi tıklamak için kullanılır.<br/>
   <font color='purple'> ClickAndWait: </font> Nesneye tıklattıktan sonra sayfanın yüklenmesini beklemek için kullanılır.<br/>
   <font color='purple'>AssertElementPresent: </font> Belirtilen elemanın yüklenemesini beklemek için kullanılır.<br/>
   <font color='purple'>AssertTextPresent: </font> Belirtilen bir metnin sayfada olup olmadığını kontrol  eder.<br/>
   <font color='purple'>WaitForPageToload: </font> sayfanın yüklenmesini bekler.<br/>
   <font color='purple'>WaitForElementPresent: </font> Sayfadaki beklenen arayüz ekrana gelene kadar   testi bekletir.<br/>
   <font color='purple'>Type: </font> bir inputun içine yazmak için kullanılır.<br/>
   <font color='purple'>VerifyTextPresent: </font> Sayfanın herhangi bir yerinde beklenen yazının varlığını doğrular.<br/>
   <font color='purple'>VerifyElementPresent: </font> Sayfada olması beklenen arayüzün doğru yerde olup olmadığını kontrol eder.<br/>
   <font color='purple'>Title/AsertTitle: </font> Beklenen sayfa başlağını doğrular.<br/>
   <font color='purple'>DeleteCookie: </font> Belirtilen cookinin silinmesi sağlar.<br/>
   <font color='purple'>MouseOver: </font> Mouse belirtilen elemanın üzerine götürür.</p>

<p><font color='red'>2-Target: </font>  Commanda belirttiğimiz olayın hangi nesne üzerinde gerçekleşeceğini belirtiriz. Burada CSS Locator yada Xpath gibi yer bulucular kullanmamız gerekmekte.</p>

<p><font color='red'>3-Value: </font> Targette belirttiğimiz nesnenin bir değeri varsa ve o değeri belirtmemiz gerekiyorsa yada sitede bir yere değer yazmak gerekiyorsa kullanılır.</p>

<p>Şimdi elimizde 1 tane senaryomuz olsun</p>

<p>Scenario 1: cikti.al home page<br/>
<font color='red'>1- </font> Open page(<a href="http://cikti.al">http://cikti.al</a>)<br/>
<font color='red'>2- </font> Verify the page header(&lsquo;Çıktı Al ! Bulut Flash Bellek( (beta))</p>

<p><img src="http://i.imgur.com/4b584hS.png" alt="" /></p>

<p>burada (<a href="http://cikti.al">http://cikti.al</a>) adresine gidip ,<br/>
Çıktı Al ! Bulut Flash Bellek( (beta)) ,<br/>
yazısının sayfada olup olmadığının kontrolünü yaparız.<br/>
Seleniumu çalıştırdığımız anda bize tarayıcımızdan yeni bir sekme açarak
<a href="http://cikti.al">http://cikti.al</a> adresine gider.</p>

<p><img src="http://i.imgur.com/iOR3055.png" alt="" /></p>

<p><img src="http://i.imgur.com/4l1uAfK.png" alt="" /></p>

<p> Burada istediğimiz adrese gitti. <font color='blue'>Çıktı Al ! Bulut Flash Bellek </font> yazımızı kontrol etti evet böyle bir metin var ve  her şey yolunda dedi bize. <br/>
Peki ,bu Bulut Flaş bellek sitemiz ne işe yarıyor? Herhangi bir dökümanımızı yükleyip ,daha sonra istediğimiz bir yerde çıktısını almamızı sağlıyor, harici bellek kullanmadan hallediyoruz çıktı alma olayını ,site kendi hafızasında saklıyor bu dökümanı.<br/>
Peki o zaman bizde bir dosya yükleyelim <font color='red'> Selenium'a </font> komutları verelim o bizim için yüklesin ve baksın sitemizin dosya yükle butonu gerçekten çalışıyor mu bir sorunu var mı ?</p>

<p><img src="http://i.imgur.com/ckEDZYq.png" alt="" /></p>

<p><img src="http://i.imgur.com/GTcGqeZ.png" alt="" /></p>

<p>Seleniuma gireceğimiz  komutlar bu şekildedir.<br/>
Seleniuma <font color='red'>  Run! </font> komutunu verdiğimiz anda yeni sekmede <a href="http://cikti.al">http://cikti.al</a> adresine gitti yazımızı kontrol etti ve commanda kısmına yazdığımız type komutu ile target kısmına yazdığımız CSS Locator yer bulucusu  ile dosya yüklemesi gereken yeri bulmasını söyledik ve value kısmına yüklenecek dosyamızın adını verdik.</p>

<p><img src="http://i.imgur.com/2ojYL7I.png" alt="" /></p>

<p>Dosyamız yüklendi! Sitemizde hiç bir sorun olmadığını test ederek gördük.</p>

<p>Sizlerde Seleniumu çeşitli siteleri test etmek amaçlı kullanabilirsiniz hatta bunu farklı browserlarda deneyebilir hatta ve hatta farklı işletim sistemleri için bile test edebilir hale getirebilirsiniz.</p>

<p><a href="http://www.browserstack.com">http://www.browserstack.com</a> bu adres ile testlerinizi farklı web tarayıcılarında deneyebilirsiniz. Örneğin tekrar www.sahibinden.com dan tekrar bahsedersek ve buradaki bir ürünümüzü tam müşterinin biri 1500 dolarlık ürün alırken, İnternet explorer8 de göremediğimiz, ödemeyi onayla butonu , çalışmazsa ne olacak? Ve bizden önce bunu müşteri görmüş olsa, biz 1500 doları ve müşterizi kaybetsek, ne kötü olur değil mi? İşte bu gibi durumlara sebebiyet vermemek için testimizi farklı tarayıcılar ve farklı işletim sistemleri içinde kullanıma hazır hale getirebiliriz.</p>

<p> Yazıma burada son veriyorum Selenium hakkında bişeyler katabilmişsem ne mutlu :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/18/yeni/">GCM Ile Push Notification</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-18T00:06:04+02:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>Merhaba arkadaşlar bir cihaza Push Notification yapmak istediğimiz zaman <font color=blue>Google Cloud Messaging</font> dediğimiz servisi  kullanıyoruz. Kısaca <font color=blue>GCM</font> olan bu servis , sunucu görevi gören  bilgisayarımızdan göndereceğimiz verinin  , android cihaz tarafından alınmasını sağlayacak bir teknolojidir. Bulut teknolojisi kullanarak uygulamara veri göndermeyi sağlar.</p></blockquote>

<p>Android cihazımızda bir uygulamamız olduğunu farz edelim bu uygulama bize tatile çıktığımız zaman konum bilgimize erişip bize otel adları sunsun ve push notification mantığı ile çalışsın. O civarda otel arıyor olalım ve hareket etiiğimizi anlayan bu uygulama konum bilgimize erişsin. Biz bu uygulamaya sürekli otel var mı diye sormayalım da o bulunduğumuz yerde otel bulduğunda push notification ile bize otel adlarını yollasın.</p>

<p>Eğer uygulamamızda push notification yoksa bizim sürekli sormamız gerekecekti yeni otel buldun mu diye. Bu durum ayrıca zahmet ve serverımızda sürekli bir yogunluğa neden olur.<br/>
Fakat bizim uygulamamız GCM ile çalışıyor ve bana çok güzel kolaylık sunuyor. Biz sürekli sayfa güncelleyip sormadan uygulama bizim işimizi görecek ne kadar kolay değil mi ?</p>

<p>Uygulamalara bu push notification olayını yerleştirdiğimiz zaman istediğimiz kullanıcıya istediğimiz mesajı atarak kullanıcıyı uyarabiliyoruz.<br/>
Bankalar örneğin böyle bir uygulama kullansa bakiyesi eksiye inen kullanıcılarını tespit etse ve onlara otomatik push notification ile mesaj atsa Paraya ihtiyacın mı var dese çok da güzel olur.</p>

<blockquote><p>Push Notification ile bir android cihazımıza bildirim yollamak isteyelim bunun için bize bir android uygulaması lazım. Bir diğer olay GCM servisi lazım ve Sunucumuzun olması lazım.<br/>
GCM çalşma mantığı ise aşağıdaki resimdeki gibidir.</p></blockquote>

<p><img src="http://i.imgur.com/2jxRfN3.jpg"></p>

<ul>
<li><p>Ilk adımda android uygulaması application_id and sender_id bilgilerimizi GCM ile paylasır. GCM sunucusuda bu bilgileri tutar.</p></li>
<li><p>Ikinci adımda GCM sunucu uygulamasından register_id bilgisi gelir, bu bilgi gelen application_id and sender_id bilgilerini kullanarak uygulamayı register ettikten sonra oluşur.</p></li>
<li><p>Mobil uygulama GCM sunucusundan aldığı register_id bilgisini push notification yapacağı servera iletir.</p></li>
<li><p>Server da gelen bu regıster_id bilgisini kendi veritabanına kaydeder.</p></li>
<li><p>Server kendi application_id si için göndereceği bilgileri GCM'e registration_id olarak bildiriyor.</p></li>
<li><p>GCM de bu registration_id üzerinden belirlenen mobil cihaza serverdan gelen bilgiyi iletiyor.</p></li>
</ul>


<p>Tüm bu adımların tamamı bahsettiğimiz push notification işlemini gerçekleştiriyor.</p>

<blockquote><p>Ilk Adım;</p></blockquote>

<p>Google Cloud Messaging dediğimiz servisi kullanabilmemiz için <a href="https://cloud.google.com/console">Google Developer Console </a> girip hesap oluşturmamız gerekiyor. <font color=blue> Create New Project</font> e tıklıyoruz. Açılan sayfaya bilgileri giriyoruz (name,id). GCM ile paylaştığımız application_id olur bu.</p>

<p><img src="http://i.imgur.com/lKH63hw.jpg"></p>

<p>Projemizi oluşturduktan sonra;<br/>
Menuden  <font color=blue>APİs&amp;AUTH</font> menüsünden  <font color=blue>Credentials</font> seciyoruz. Açılan sayfadan  <font color=blue>Create New Key</font> tıklayıp  <font color=blue>Server Key</font> seçiyoruz. Ve  <font color=blue>Create</font> dıyoruz.  Gelen ekranda APi keyimizi göreceksiniz bunu kullanacağımız yerler olacak bu şekilde bunu da oluşturmuş olduk.</p>

<p><img src="http://i.imgur.com/vVnYbmA.png"></p>

<blockquote><p>İkinci Adım;</p></blockquote>

<p> <font color=red>Veritabanını Oluşturma</font></p>

<p>Bunun için phpMyAdmin kullanacağız. Web uygulamalarını kendi bilgisayarınızda test edebilmek için sisteminizde LAMP (Linux, Apache, MySQL, PHP) server kurulu olmalıdır. <a href="http://www.getgnu.org/gnulinux/gnulinux-ipuclari/lamp-linux-apache-mysql-php-server-kurulumu.html"> buradan </a> LAMP kurulumu gerçekleştirebilirsiniz.</p>

<p>Kurulumu tamamladıktan sonra
 <a href="http://localhost/phpmyadmin">http://localhost/phpmyadmin</a> adresine giriş yapabilirsiniz. Giriş yaptıktan sonra  <font color=green>GCM</font> adında database oluşturuyoruz.Daha sonra SQL tıklayıp aşağıdaki kodu çalıştırdığımızda  <font color=green>gcm_users</font> adında bir tablo oluşturmuş oluruz.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="no">CREATE</span> <span class="no">TABLE</span> <span class="no">IF</span> <span class="no">NOT</span> <span class="no">EXISTS</span> <span class="sb">`gcm_users`</span> <span class="p">(</span>
</span><span class='line'>  <span class="sb">`id`</span> <span class="n">int</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span> <span class="no">NOT</span> <span class="no">NULL</span> <span class="no">AUTO_INCREMENT</span><span class="p">,</span>
</span><span class='line'>  <span class="sb">`gcm_regid`</span> <span class="n">text</span><span class="p">,</span>
</span><span class='line'>  <span class="sb">`android_id`</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="no">NOT</span> <span class="no">NULL</span><span class="p">,</span>
</span><span class='line'>  <span class="sb">`email`</span> <span class="n">varchar</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span> <span class="no">NOT</span> <span class="no">NULL</span><span class="p">,</span>
</span><span class='line'>  <span class="sb">`created_at`</span> <span class="n">timestamp</span> <span class="no">NOT</span> <span class="no">NULL</span> <span class="no">DEFAULT</span> <span class="no">CURRENT_TIMESTAMP</span><span class="p">,</span>
</span><span class='line'>  <span class="no">PRIMARY</span> <span class="no">KEY</span> <span class="p">(</span><span class="sb">`id`</span><span class="p">)</span>
</span><span class='line'> <span class="p">)</span><span class="no">ENGINE</span><span class="o">=</span><span class="no">InnoDB</span> <span class="no">DEFAULT</span> <span class="no">CHARSET</span><span class="o">=</span><span class="n">latin1</span> <span class="no">AUTO_INCREMENT</span><span class="o">=</span><span class="mi">1</span> <span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p><img src="http://i.imgur.com/4ErXDQT.png"></p>

<p> <font color=red>PHP Projelerini Oluşturma</font></p>

<p>Veritabanını oluşturduktan sonra php konfigurasyon dosyalarını oluşturmalıyız.</p>

<blockquote><p>İlk önce veritabanı bilgilerinin yer aldığı config.php dosyası oluşturalım ve aşağıdaki kodu ekleyelim.</p></blockquote>

<p>config.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'> <span class="c1">//Database config degiskenleri</span>
</span><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s2">&quot;DB_HOST&quot;</span><span class="p">,</span> <span class="s2">&quot;localhost&quot;</span><span class="p">);</span>
</span><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s2">&quot;DB_USER&quot;</span><span class="p">,</span> <span class="s2">&quot;root&quot;</span><span class="p">);</span>
</span><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s2">&quot;DB_PASSWORD&quot;</span><span class="p">,</span> <span class="s2">&quot;root_password&quot;</span><span class="p">);</span>
</span><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s2">&quot;DB_DATABASE&quot;</span><span class="p">,</span> <span class="s2">&quot;gcm&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'> <span class="c1">//Projemizi oluştururken elde ettiğimiz API keye yazıyoruz</span>
</span><span class='line'><span class="nb">define</span><span class="p">(</span><span class="s2">&quot;GOOGLE_API_KEY&quot;</span><span class="p">,</span> <span class="s2">&quot;AIzaSyBuKjAAFTPaYIL83BvKzhfJ1patQfojz-w&quot;</span><span class="p">);</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Şimdi ikinci bir dosya oluşturuyoruz  db_connect.php adında burada da database bağlantımız sağlanacak.</p></blockquote>

<p>db_connect.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'> <span class="k">class</span> <span class="nc">DB_Connect</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>     <span class="c1">//constructor</span>
</span><span class='line'>    <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'>     <span class="c1">//destructor</span>
</span><span class='line'>    <span class="k">function</span> <span class="nf">__destruct</span><span class="p">()</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'>     <span class="c1">//database bağlantısı</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">connect</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//config.php dosyamızı dahil ediyoruz</span>
</span><span class='line'>        <span class="k">require_once</span> <span class="s1">&#39;config.php&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="c1">//config.php dosyamızdaki bilgiler eşliğinde mysql bağlanıyoruz.</span>
</span><span class='line'>        <span class="nv">$con</span> <span class="o">=</span> <span class="nb">mysql_connect</span><span class="p">(</span><span class="nx">DB_HOST</span><span class="p">,</span> <span class="nx">DB_USER</span><span class="p">,</span> <span class="nx">DB_PASSWORD</span><span class="p">);</span>
</span><span class='line'>        <span class="c1">//databasemizi seçiyoruz</span>
</span><span class='line'>        <span class="nb">mysql_select_db</span><span class="p">(</span><span class="nx">DB_DATABASE</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$con</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>    <span class="c1">//database bağlantısı kesiliyor</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">close</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nb">mysql_close</span><span class="p">();</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Üçüncü dosyamız oluşturduğumuz veritabanında CRUD işlemleri gerçekleştirmek için db_functions.php adında bir dosya olacak ve bu dosya içine kullanıcı oluşturmak için bir fonksiyon yazıyoruz fazlasını yapmakda mümkün.</p></blockquote>

<p>db_functions.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">DB_Functions</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">private</span> <span class="nv">$db</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//yapıcı kodumuzu yerleştiriyoruz.</span>
</span><span class='line'>    <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">//oluşturduğumuz database bağlantısını çağırıyoruz.</span>
</span><span class='line'>        <span class="k">include_once</span> <span class="s1">&#39;./db_connect.php&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="c1">//database bağlantısı oluşturuldu</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DB_Connect</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">db</span><span class="o">-&gt;</span><span class="na">connect</span><span class="p">();</span>
</span><span class='line'>   <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">function</span> <span class="nf">__destruct</span><span class="p">()</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// CRUD işlemlerinden Create ile yeni bir kullanıcı ekleme işlemi yapılıyor</span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">storeUser</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$email</span><span class="p">,</span> <span class="nv">$gcm_regid</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// database kullanıcı ekleme</span>
</span><span class='line'>        <span class="nv">$result</span> <span class="o">=</span> <span class="nb">mysql_query</span><span class="p">(</span><span class="s2">&quot;INSERT INTO gcm_users(name, email, gcm_regid, created_at) VALUES(&#39;</span><span class="si">$name</span><span class="s2">&#39;, &#39;</span><span class="si">$email</span><span class="s2">&#39;, &#39;</span><span class="si">$gcm_regid</span><span class="s2">&#39;, NOW())&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="c1">// kullanıcı eklenmiş mi kontrol ediyoruz</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="c1">// kullanıcı bilgilerine erişiyoruz</span>
</span><span class='line'>            <span class="nv">$id</span> <span class="o">=</span> <span class="nb">mysql_insert_id</span><span class="p">();</span> <span class="c1">// en son eklenen id</span>
</span><span class='line'>            <span class="nv">$result</span> <span class="o">=</span> <span class="nb">mysql_query</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM gcm_users WHERE id = </span><span class="si">$id</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">or</span> <span class="k">die</span><span class="p">(</span><span class="nb">mysql_error</span><span class="p">());</span>
</span><span class='line'>            <span class="c1">// kullanıcı bilgilerine geri dönüyoruz</span>
</span><span class='line'>            <span class="k">if</span> <span class="p">(</span><span class="nb">mysql_num_rows</span><span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">return</span> <span class="nb">mysql_fetch_array</span><span class="p">(</span><span class="nv">$result</span><span class="p">);}</span>
</span><span class='line'>            <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>                <span class="k">return</span> <span class="k">false</span><span class="p">;</span> <span class="p">}</span>  <span class="p">}</span>
</span><span class='line'>        <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span> <span class="k">false</span><span class="p">;}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Tüm kullanıcılara erişme </span>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">getAllUsers</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>        <span class="nv">$result</span> <span class="o">=</span> <span class="nb">mysql_query</span><span class="p">(</span><span class="s2">&quot;select * FROM gcm_users&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">return</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}}</span>
</span><span class='line'>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Dördüncü oluşturacağımız dosya GCM.php olacak. Bu dosya GCM sunucuya push bildirim istekleri göndermek için kullanılır.</p></blockquote>

<p>GCM.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'>
</span><span class='line'>  <span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'> <span class="k">class</span> <span class="nc">GCM</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// constructor</span>
</span><span class='line'>    <span class="k">function</span> <span class="nf">__construct</span><span class="p">()</span> <span class="p">{}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//Push notification yollama, resmimizdeki 5. adım</span>
</span><span class='line'>     <span class="c1">// yollanacak registerin idisi ve mesajımız burada kullanılacak</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="k">function</span> <span class="nf">send_notification</span><span class="p">(</span><span class="nv">$registatoin_ids</span><span class="p">,</span> <span class="nv">$message</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// ilk oluşturduğumuz database bilgimizin olduğu config.php dosyasını cağırıyoruz.</span>
</span><span class='line'>        <span class="k">include_once</span> <span class="s1">&#39;./config.php&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// adresimize gidiyoruz ardından ulaşılmasını istediğimiz cihazın register_id bilgisini ve mesajımızı buraya yerleştiriyoruz.</span>
</span><span class='line'>        <span class="nv">$url</span> <span class="o">=</span> <span class="s1">&#39;https://android.googleapis.com/gcm/send&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$fields</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;registration_ids&#39;</span> <span class="o">=&gt;</span> <span class="nv">$registatoin_ids</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;data&#39;</span> <span class="o">=&gt;</span> <span class="nv">$message</span><span class="p">,</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nv">$headers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
</span><span class='line'>            <span class="s1">&#39;Authorization: key=&#39;</span> <span class="o">.</span> <span class="nx">GOOGLE_API_KEY</span><span class="p">,</span>
</span><span class='line'>            <span class="s1">&#39;Content-Type: application/json&#39;</span>
</span><span class='line'>        <span class="p">);</span>
</span><span class='line'>        <span class="c1">// bağlantımızı açtık</span>
</span><span class='line'>        <span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// urlyi set ettik ve POST data</span>
</span><span class='line'>        <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'>        <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_HTTPHEADER</span><span class="p">,</span> <span class="nv">$headers</span><span class="p">);</span>
</span><span class='line'>        <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// SSL Certificate</span>
</span><span class='line'>        <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="k">false</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$fields</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">//post çalıştırılıyor</span>
</span><span class='line'>        <span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span> <span class="o">===</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>            <span class="k">die</span><span class="p">(</span><span class="s1">&#39;Curl failed: &#39;</span> <span class="o">.</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">));</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// Close connection</span>
</span><span class='line'>        <span class="nb">curl_close</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
</span><span class='line'>        <span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Beşinci oluşturacağımız dosya Register.php dosyası , Bu dosya Android cihazından gelen istekleri alır. Android cihazınızdan Adınız, Mailiniz ve bir Register_id niz ile ki bu id size ilk GCM kayıt olurken verildi, seni bu id ile kayıt ettim demişti GCM.<br/>
Bizde bunları kullanarak Böylece uygulamaya dahil olduk bilgilerimizde database aktarıldı, yazdığın register_id bilgisi de database tablomuzdaki Reg_id bilgisine eşitlenir. Aynı zamanda buradaki reg_id bilgimizi GCM.php dosyamıza da yolladık oluşturduğumuz bir mesajla birlikte. GCM.php bu reg_id sine ait cihaza bu mesajı push etmek için GCM servera bağlanacak.</p></blockquote>

<p>register.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'> <span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">// response json</span>
</span><span class='line'>  <span class="nv">$json</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//Kullanıcı cihazını kayıt eder,register eder</span>
</span><span class='line'>    <span class="nx">ve</span> <span class="nx">bunu</span> <span class="nx">kullanıcı</span> <span class="nx">tablosundaki</span> <span class="nx">reg_id</span> <span class="nx">depolar</span>
</span><span class='line'>
</span><span class='line'><span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;regId&quot;</span><span class="p">]))</span> <span class="p">{</span>
</span><span class='line'>    <span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="nv">$email</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">];</span>
</span><span class='line'>    <span class="nv">$gcm_regid</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">&quot;regId&quot;</span><span class="p">];</span> <span class="c1">// GCM Registration ID</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">//kullanıcı bilgilerini database yazıyor, </span>
</span><span class='line'>    <span class="c1">//Bunu da bilgileri alıp yazdığımız db_functions.php dosyasını kullanarak yapıyor</span>
</span><span class='line'>    <span class="k">include_once</span> <span class="s1">&#39;./db_functions.php&#39;</span><span class="p">;</span>
</span><span class='line'>    <span class="k">include_once</span> <span class="s1">&#39;./GCM.php&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DB_Functions</span><span class="p">();</span>
</span><span class='line'>    <span class="nv">$gcm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GCM</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$res</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">storeUser</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$email</span><span class="p">,</span> <span class="nv">$gcm_regid</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$registatoin_ids</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$gcm_regid</span><span class="p">);</span>
</span><span class='line'>    <span class="nv">$message</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;product&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;shirt&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$gcm</span><span class="o">-&gt;</span><span class="na">send_notification</span><span class="p">(</span><span class="nv">$registatoin_ids</span><span class="p">,</span> <span class="nv">$message</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>  <span class="k">else</span> <span class="p">{}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Altıncı olarak oluşturacağımız dosya send_message.php dosyası , Bu dosya da reg_id ve mesaage bilgilerimizi alıp notification yapması için GCM.php dosyasını çağırır.</p></blockquote>

<p>send_message.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'>  <span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;regId&quot;</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">]))</span> <span class="p">{</span>
</span><span class='line'>     <span class="nv">$regId</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;regId&quot;</span><span class="p">];</span>
</span><span class='line'>     <span class="nv">$message</span> <span class="o">=</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s2">&quot;message&quot;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">include_once</span> <span class="s1">&#39;./GCM.php&#39;</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>     <span class="nv">$gcm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">GCM</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>     <span class="nv">$registatoin_ids</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$regId</span><span class="p">);</span>
</span><span class='line'>     <span class="nv">$message</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;price&quot;</span> <span class="o">=&gt;</span> <span class="nv">$message</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>     <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$gcm</span><span class="o">-&gt;</span><span class="na">send_notification</span><span class="p">(</span><span class="nv">$registatoin_ids</span><span class="p">,</span> <span class="nv">$message</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">echo</span> <span class="nv">$result</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'><span class="cp">?&gt;</span><span class="x"></span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Son olarak oluşturacağımız dosya index.php dosyası, Bu dosya takip edilen kodları basar. Bu kodlar basit bir admin panel oluşturur , kullanıcı cihazlarını sıralar , bireysel kullanıcılara push notıfıcatıon yollar.</p></blockquote>

<p>index.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
</pre></td><td class='code'><pre><code class='php'><span class='line'><span class="o">&lt;!</span><span class="nx">DOCTYPE</span> <span class="nx">html</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">title</span><span class="o">&gt;&lt;/</span><span class="nx">title</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">meta</span> <span class="nx">http</span><span class="o">-</span><span class="nx">equiv</span><span class="o">=</span><span class="s2">&quot;Content-Type&quot;</span> <span class="nx">content</span><span class="o">=</span><span class="s2">&quot;text/html; charset=UTF-8&quot;</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js&quot;</span><span class="o">&gt;&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
</span><span class='line'>            <span class="err">$</span><span class="p">(</span><span class="nx">document</span><span class="p">)</span><span class="o">.</span><span class="nx">ready</span><span class="p">(</span><span class="k">function</span><span class="p">(){</span>
</span><span class='line'>
</span><span class='line'>            <span class="p">});</span>
</span><span class='line'>            <span class="k">function</span> <span class="nf">sendPushNotification</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>
</span><span class='line'>                <span class="k">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="err">$</span><span class="p">(</span><span class="s1">&#39;form#&#39;</span><span class="o">+</span><span class="nx">id</span><span class="p">)</span><span class="o">.</span><span class="nb">serialize</span><span class="p">();</span>
</span><span class='line'>                <span class="err">$</span><span class="p">(</span><span class="s1">&#39;form#&#39;</span><span class="o">+</span><span class="nx">id</span><span class="p">)</span><span class="o">.</span><span class="nx">unbind</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">);</span>
</span><span class='line'>                <span class="err">$</span><span class="o">.</span><span class="nx">ajax</span><span class="p">({</span>
</span><span class='line'>                    <span class="nx">url</span><span class="o">:</span> <span class="s2">&quot;send_message.php&quot;</span><span class="p">,</span>
</span><span class='line'>                    <span class="nx">type</span><span class="o">:</span> <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
</span><span class='line'>                    <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">,</span>
</span><span class='line'>                    <span class="nx">beforeSend</span><span class="o">:</span> <span class="k">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>                    <span class="p">},</span>
</span><span class='line'>                    <span class="nx">success</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">data</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">xhr</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                          <span class="err">$</span><span class="p">(</span><span class="s1">&#39;.txt_message&#39;</span><span class="p">)</span><span class="o">.</span><span class="nx">val</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
</span><span class='line'>                    <span class="p">},</span>
</span><span class='line'>                    <span class="nx">error</span><span class="o">:</span> <span class="k">function</span><span class="p">(</span><span class="nx">xhr</span><span class="p">,</span> <span class="nx">textStatus</span><span class="p">,</span> <span class="nx">errorThrown</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>                    <span class="p">}</span>
</span><span class='line'>                <span class="p">});</span>
</span><span class='line'>                <span class="k">return</span> <span class="k">false</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="o">&lt;/</span><span class="nx">script</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="nx">style</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/css&quot;</span><span class="o">&gt;</span>
</span><span class='line'>            <span class="o">.</span><span class="nx">container</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">width</span><span class="o">:</span> <span class="mi">950</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">margin</span><span class="o">:</span> <span class="mi">0</span> <span class="nx">auto</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">padding</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">h1</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">family</span><span class="o">:</span> <span class="s1">&#39;Helvetica Neue&#39;</span><span class="p">,</span> <span class="nx">Helvetica</span><span class="p">,</span> <span class="nx">Arial</span><span class="p">,</span> <span class="nx">sans</span><span class="o">-</span><span class="nx">serif</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">size</span><span class="o">:</span> <span class="mi">24</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">color</span><span class="o">:</span> <span class="c1">#777;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">div</span><span class="o">.</span><span class="nx">clear</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">clear</span><span class="o">:</span> <span class="nx">both</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">margin</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">padding</span><span class="o">:</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span> <span class="nx">li</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">float</span><span class="o">:</span> <span class="nx">left</span><span class="p">;</span>
</span><span class='line'>                <span class="k">list</span><span class="o">-</span><span class="nx">style</span><span class="o">:</span> <span class="nx">none</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">border</span><span class="o">:</span> <span class="mi">1</span><span class="nx">px</span> <span class="nx">solid</span> <span class="c1">#dedede;</span>
</span><span class='line'>                <span class="nx">padding</span><span class="o">:</span> <span class="mi">10</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">margin</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">15</span><span class="nx">px</span> <span class="mi">25</span><span class="nx">px</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">border</span><span class="o">-</span><span class="nx">radius</span><span class="o">:</span> <span class="mi">3</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="o">-</span><span class="nx">webkit</span><span class="o">-</span><span class="nx">box</span><span class="o">-</span><span class="nx">shadow</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">1</span><span class="nx">px</span> <span class="mi">5</span><span class="nx">px</span> <span class="nx">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">);</span>
</span><span class='line'>                <span class="o">-</span><span class="nx">moz</span><span class="o">-</span><span class="nx">box</span><span class="o">-</span><span class="nx">shadow</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">1</span><span class="nx">px</span> <span class="mi">5</span><span class="nx">px</span> <span class="nx">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">);</span>
</span><span class='line'>                <span class="nx">box</span><span class="o">-</span><span class="nx">shadow</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">1</span><span class="nx">px</span> <span class="mi">5</span><span class="nx">px</span> <span class="nx">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.35</span><span class="p">);</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">family</span><span class="o">:</span> <span class="s1">&#39;Helvetica Neue&#39;</span><span class="p">,</span> <span class="nx">Helvetica</span><span class="p">,</span> <span class="nx">Arial</span><span class="p">,</span> <span class="nx">sans</span><span class="o">-</span><span class="nx">serif</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">color</span><span class="o">:</span> <span class="c1">#555;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span> <span class="nx">li</span> <span class="nx">label</span><span class="p">,</span> <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span> <span class="nx">li</span> <span class="nx">span</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">family</span><span class="o">:</span> <span class="s1">&#39;Helvetica Neue&#39;</span><span class="p">,</span> <span class="nx">Helvetica</span><span class="p">,</span> <span class="nx">Arial</span><span class="p">,</span> <span class="nx">sans</span><span class="o">-</span><span class="nx">serif</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">size</span><span class="o">:</span> <span class="mi">12</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">style</span><span class="o">:</span> <span class="nx">normal</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">variant</span><span class="o">:</span> <span class="nx">normal</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">font</span><span class="o">-</span><span class="nx">weight</span><span class="o">:</span> <span class="nx">bold</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">color</span><span class="o">:</span> <span class="c1">#393939;</span>
</span><span class='line'>                <span class="nx">display</span><span class="o">:</span> <span class="nx">block</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">float</span><span class="o">:</span> <span class="nx">left</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span> <span class="nx">li</span> <span class="nx">label</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">height</span><span class="o">:</span> <span class="mi">25</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">width</span><span class="o">:</span> <span class="mi">50</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span> <span class="nx">li</span> <span class="nx">textarea</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">float</span><span class="o">:</span> <span class="nx">left</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">resize</span><span class="o">:</span> <span class="nx">none</span><span class="p">;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>            <span class="nx">ul</span><span class="o">.</span><span class="nx">devices</span> <span class="nx">li</span> <span class="o">.</span><span class="nx">send_btn</span><span class="p">{</span>
</span><span class='line'>                <span class="nx">background</span><span class="o">:</span> <span class="o">-</span><span class="nx">webkit</span><span class="o">-</span><span class="nx">gradient</span><span class="p">(</span><span class="nx">linear</span><span class="p">,</span> <span class="mi">0</span><span class="o">%</span> <span class="mi">0</span><span class="o">%</span><span class="p">,</span> <span class="mi">0</span><span class="o">%</span> <span class="mi">100</span><span class="o">%</span><span class="p">,</span> <span class="nx">from</span><span class="p">(</span><span class="c1">#0096FF), to(#005DFF));</span>
</span><span class='line'>                <span class="nx">background</span><span class="o">:</span> <span class="o">-</span><span class="nx">webkit</span><span class="o">-</span><span class="nx">linear</span><span class="o">-</span><span class="nx">gradient</span><span class="p">(</span><span class="mi">0</span><span class="o">%</span> <span class="mi">0</span><span class="o">%</span><span class="p">,</span> <span class="mi">0</span><span class="o">%</span> <span class="mi">100</span><span class="o">%</span><span class="p">,</span> <span class="nx">from</span><span class="p">(</span><span class="c1">#0096FF), to(#005DFF));</span>
</span><span class='line'>                <span class="nx">background</span><span class="o">:</span> <span class="o">-</span><span class="nx">moz</span><span class="o">-</span><span class="nx">linear</span><span class="o">-</span><span class="nx">gradient</span><span class="p">(</span><span class="nx">center</span> <span class="nx">top</span><span class="p">,</span> <span class="c1">#0096FF, #005DFF);</span>
</span><span class='line'>                <span class="nx">background</span><span class="o">:</span> <span class="nx">linear</span><span class="o">-</span><span class="nx">gradient</span><span class="p">(</span><span class="c1">#0096FF, #005DFF);</span>
</span><span class='line'>                <span class="nx">text</span><span class="o">-</span><span class="nx">shadow</span><span class="o">:</span> <span class="mi">0</span> <span class="mi">1</span><span class="nx">px</span> <span class="mi">0</span> <span class="nx">rgba</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">);</span>
</span><span class='line'>                <span class="nx">border</span><span class="o">-</span><span class="nx">radius</span><span class="o">:</span> <span class="mi">3</span><span class="nx">px</span><span class="p">;</span>
</span><span class='line'>                <span class="nx">color</span><span class="o">:</span> <span class="c1">#fff;</span>
</span><span class='line'>            <span class="p">}</span>
</span><span class='line'>        <span class="o">&lt;/</span><span class="nx">style</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;/</span><span class="nx">head</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="nx">body</span><span class="o">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="o">&lt;?</span><span class="nx">php</span>
</span><span class='line'>        <span class="k">include_once</span> <span class="s1">&#39;db_functions.php&#39;</span><span class="p">;</span>
</span><span class='line'>        <span class="nv">$db</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DB_Functions</span><span class="p">();</span>
</span><span class='line'>        <span class="nv">$users</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">getAllUsers</span><span class="p">();</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(</span><span class="nv">$users</span> <span class="o">!=</span> <span class="k">false</span><span class="p">)</span>
</span><span class='line'>            <span class="nv">$no_of_users</span> <span class="o">=</span> <span class="nb">mysql_num_rows</span><span class="p">(</span><span class="nv">$users</span><span class="p">);</span>
</span><span class='line'>        <span class="k">else</span>
</span><span class='line'>            <span class="nv">$no_of_users</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</span><span class='line'>        <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">        &lt;div class=&quot;container&quot;&gt;</span>
</span><span class='line'><span class="x">            &lt;h1&gt;No of Devices Registered: </span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$no_of_users</span><span class="p">;</span> <span class="cp">?&gt;</span><span class="x">&lt;/h1&gt;</span>
</span><span class='line'><span class="x">            &lt;hr/&gt;</span>
</span><span class='line'><span class="x">            &lt;ul class=&quot;devices&quot;&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span>
</span><span class='line'>                <span class="k">if</span> <span class="p">(</span><span class="nv">$no_of_users</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>                    <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                    </span><span class="cp">&lt;?php</span>
</span><span class='line'>                    <span class="k">while</span> <span class="p">(</span><span class="nv">$row</span> <span class="o">=</span> <span class="nb">mysql_fetch_array</span><span class="p">(</span><span class="nv">$users</span><span class="p">))</span> <span class="p">{</span>
</span><span class='line'>                        <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                        &lt;li&gt;</span>
</span><span class='line'><span class="x">                            &lt;form id=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x">&quot; name=&quot;&quot; method=&quot;post&quot; onsubmit=&quot;return sendPushNotification(&#39;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x">&#39;)&quot;&gt;</span>
</span><span class='line'><span class="x">                                &lt;label&gt;Name: &lt;/label&gt; &lt;span&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x">&lt;/span&gt;</span>
</span><span class='line'><span class="x">                                &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span>
</span><span class='line'><span class="x">                                &lt;label&gt;Email:&lt;/label&gt; &lt;span&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;email&quot;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x">&lt;/span&gt;</span>
</span><span class='line'><span class="x">                                &lt;div class=&quot;clear&quot;&gt;&lt;/div&gt;</span>
</span><span class='line'><span class="x">                                &lt;div class=&quot;send_container&quot;&gt;                               </span>
</span><span class='line'><span class="x">                                    &lt;textarea rows=&quot;3&quot; name=&quot;message&quot; cols=&quot;25&quot; class=&quot;txt_message&quot; placeholder=&quot;Type message here&quot;&gt;&lt;/textarea&gt;</span>
</span><span class='line'><span class="x">                                    &lt;input type=&quot;hidden&quot; name=&quot;regId&quot; value=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$row</span><span class="p">[</span><span class="s2">&quot;gcm_regid&quot;</span><span class="p">]</span> <span class="cp">?&gt;</span><span class="x">&quot;/&gt;</span>
</span><span class='line'><span class="x">                                    &lt;input type=&quot;submit&quot; class=&quot;send_btn&quot; value=&quot;Send&quot; onclick=&quot;&quot;/&gt;</span>
</span><span class='line'><span class="x">                                &lt;/div&gt;</span>
</span><span class='line'><span class="x">                            &lt;/form&gt;</span>
</span><span class='line'><span class="x">                        &lt;/li&gt;</span>
</span><span class='line'><span class="x">                    </span><span class="cp">&lt;?php</span> <span class="p">}</span>
</span><span class='line'>                <span class="p">}</span> <span class="k">else</span> <span class="p">{</span> <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">                    &lt;li&gt;</span>
</span><span class='line'><span class="x">                        No Users Registered Yet!</span>
</span><span class='line'><span class="x">                    &lt;/li&gt;</span>
</span><span class='line'><span class="x">                </span><span class="cp">&lt;?php</span> <span class="p">}</span> <span class="cp">?&gt;</span><span class="x"></span>
</span><span class='line'><span class="x">            &lt;/ul&gt;</span>
</span><span class='line'><span class="x">        &lt;/div&gt;</span>
</span><span class='line'><span class="x">    &lt;/body&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<blockquote><p>Son olarak yaptığımız bu uygulamayı şimdilik bağlı bir Cihazımız olmadığı için bir test.php  dosyamız ile Adımızı, Mailimizi ve Random bir Reg_id vererek kayıt işlemlerinin nasıl gerçekleştiğini görelim.</p></blockquote>

<p>test.php</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'> <span class="o">&lt;!--</span>
</span><span class='line'><span class="no">To</span> <span class="n">change</span> <span class="n">this</span> <span class="n">template</span><span class="p">,</span> <span class="n">choose</span> <span class="no">Tools</span> <span class="o">|</span> <span class="no">Templates</span>
</span><span class='line'><span class="ow">and</span> <span class="nb">open</span> <span class="n">the</span> <span class="n">template</span> <span class="k">in</span> <span class="n">the</span> <span class="n">editor</span><span class="o">.</span>
</span><span class='line'><span class="o">--&gt;</span>
</span><span class='line'><span class="o">&lt;!</span><span class="no">DOCTYPE</span> <span class="n">html</span><span class="o">&gt;</span>
</span><span class='line'><span class="o">&lt;</span><span class="n">html</span><span class="o">&gt;</span>
</span><span class='line'>    <span class="o">&lt;</span><span class="n">head</span><span class="o">&gt;</span>
</span><span class='line'>        <span class="o">&lt;</span><span class="n">title</span><span class="o">&gt;&lt;</span><span class="sr">/title&gt;</span>
</span><span class='line'><span class="sr">        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/</span><span class="n">html</span><span class="p">;</span> <span class="n">charset</span><span class="o">=</span><span class="no">UTF</span><span class="o">-</span><span class="mi">8</span><span class="s2">&quot;&gt;</span>
</span><span class='line'><span class="s2">        &lt;script src=&quot;</span><span class="ss">http</span><span class="p">:</span><span class="sr">//</span><span class="n">ajax</span><span class="o">.</span><span class="n">googleapis</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ajax</span><span class="o">/</span><span class="n">libs</span><span class="o">/</span><span class="n">jquery</span><span class="o">/</span><span class="mi">1</span><span class="o">.</span><span class="mi">8</span><span class="o">.</span><span class="mi">2</span><span class="o">/</span><span class="n">jquery</span><span class="o">.</span><span class="n">min</span><span class="o">.</span><span class="n">js</span><span class="s2">&quot;&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="s2">        &lt;script type=&quot;</span><span class="n">text</span><span class="o">/</span><span class="n">javascript</span><span class="s2">&quot;&gt;</span>
</span><span class='line'><span class="s2">            $(document).ready(function(){</span>
</span><span class='line'><span class="s2">            });</span>
</span><span class='line'><span class="s2">        &lt;/script&gt;</span>
</span><span class='line'><span class="s2">    &lt;/head&gt;</span>
</span><span class='line'><span class="s2">    &lt;body&gt;</span>
</span><span class='line'><span class="s2">        &lt;form name=&quot;&quot; method=&quot;</span><span class="n">post</span><span class="s2">&quot; action=&quot;</span><span class="n">register</span><span class="o">.</span><span class="n">php</span><span class="s2">&quot;&gt;</span>
</span><span class='line'><span class="s2">         &lt;input type=&quot;</span><span class="n">text</span><span class="s2">&quot; name=&quot;</span><span class="nb">name</span><span class="s2">&quot;/&gt;</span>
</span><span class='line'><span class="s2">         &lt;input type=&quot;</span><span class="n">text</span><span class="s2">&quot; name=&quot;</span><span class="n">email</span><span class="s2">&quot;/&gt;</span>
</span><span class='line'><span class="s2">         &lt;input type=&quot;</span><span class="n">text</span><span class="s2">&quot; name=&quot;</span><span class="n">regId</span><span class="s2">&quot;/&gt;</span>
</span><span class='line'><span class="s2">         &lt;input type=&quot;</span><span class="n">submit</span><span class="s2">&quot;/&gt;</span>
</span><span class='line'><span class="s2">     &lt;/form&gt;</span>
</span><span class='line'><span class="s2">    &lt;/body&gt;</span>
</span><span class='line'><span class="s2">&lt;/html&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p><font color=red>Şimdi çalıştırma zamanı!</font> <br/>
Kurulumunu gerçekleştirdiğiniz LAMP ile uygulamarımızı kendi bilgisayarımızda test etmek mümkün demiştik. Bunun için benim bilgisayarım için uzantısı  /var/www/html/ olan dizinimin altına tüm bu dosyalarımın olduğu GCM adlı dizinimi yerleştiriyorum. Yeni dizinim  /var/www/html/GCM oluyor.</p>

<p>Browsera gelip <a href="http://localhost/GCM/">http://localhost/GCM/</a> dediğimiz zaman çıkan ekran;</p>

<p><img src="http://i.imgur.com/ajNjohE.jpg"></p>

<p>Şimdi bir cihaz bağlıyormuşuz gibi test.php dosyamızı çalıştıralım.<br/>
Bunun için <a href="http://localhost/GCM/test.php">http://localhost/GCM/test.php</a> adresine girelim ve bir ad, mail, reg_id bilgisi girelim.<br/>
 <a href="http://localhost/GCM/">http://localhost/GCM/</a> adresini tekrar kontrol edelim.</p>

<p><img src="http://i.imgur.com/OlHKXxk.jpg"></p>

<p><img src="http://i.imgur.com/XVLWaba.jpg"></p>

<p>Gördüğünüz gibi bir cihaz eklendi index.php dosyamıza. Burada eklenen cihazlar sıralanır. Ve push bildirimlerimizi mesaj kısmına yazıp send dediğimizde o cihazlara bildirim gitmiş olur.</p>

<p>Bu arada Database de durumlar ne oldu derseniz? O halde ekran görüntüsünü paylaşayım sizinle;</p>

<p><img src="http://i.imgur.com/LDhTI6X.png"></p>

<p>Gördüğünüz gibi girdiğimiz Ad, Mail ve Reg_id bilgileri otomatik olarak oraya kayıt oldu.</p>

<p>Yazımı burada bitireceğim , sonraki aşamada Gerçek bir android cihaz bağlayıp uygulamamıza gerçek bir notification yollayacağız.<br/>
İyi çalışmalar.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="3">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="1">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  <section>
    <font color=#660033> <p>Merhaba! Ben</font> <a href="https://twitter.com/KdrTrln">Kader Tarlan</a>!</p>
    <font color=#660033>Neler üzerinde çalıştığımı görmek için  <a href="https://github.com/kadertarlan">Github</a> sayfamı kontrol edebilirsin. .</p>
        
        <p><font color=blue>Linledin</font> sitesinden yeteneklerime bakabilir, <font color=green>Twitter</font>'dan beni takip edebilirsin! </p>
        
        <div class="social-icons">
            
            
            
            <a href="http://www.linkedin.com/in/kader-tarlan-39537363"><i class="fa fa-linkedin fa-3x"></i></a>
            
            
            
            
            
            <a href="https://github.com/kadertarlan"><i class="fa fa-github fa-3x"></i></a>
            
            
            
            <a href="https://twitter.com/KdrTrln"><i class="fa fa-twitter fa-3x"></i></a>
            
            
        </div>
        
        <p><br>Sayfama uğradığın için <strong>Teşekkürler!</strong></p>
</section></font>

  <section>
  <h1>Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/09/18/cevik-ekiplerde-test-metodolojisi/">Çevik Ekiplerde Test Metodolojisi</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/21/appium-v1-dot-6-0-ios-otomasyon-with-xcuitest-webdriveragentrunner/">Appium v1.6.0 - iOS Otomasyon With XCUITest WebDriverAgentRunner</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/21/maven-ile-java-test-projesi-olusturmak/">Maven Ile Java Test Projesi Oluşturmak</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/17/mobil-otomasyon-ve-cihaz-destegi/">Mobil Otomasyon Ve Cihaz Desteği</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/13/test-otomasyonu-icin-oaliyeti-azaltan-yontemler/">Test Otomasyonu Için Maliyeti Azaltan Yöntemler</a>
      </li>
    
  </ul>
</section>

  
    <section>
  <h1>Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/09/18/cevik-ekiplerde-test-metodolojisi/">Çevik Ekiplerde Test Metodolojisi</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/21/appium-v1-dot-6-0-ios-otomasyon-with-xcuitest-webdriveragentrunner/">Appium v1.6.0 - iOS Otomasyon With XCUITest WebDriverAgentRunner</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/21/maven-ile-java-test-projesi-olusturmak/">Maven Ile Java Test Projesi Oluşturmak</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/17/mobil-otomasyon-ve-cihaz-destegi/">Mobil Otomasyon Ve Cihaz Desteği</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/05/13/test-otomasyonu-icin-oaliyeti-azaltan-yontemler/">Test Otomasyonu Için Maliyeti Azaltan Yöntemler</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/kadertarlan">@kadertarlan</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'kadertarlan',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2017 - KaderTarlan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

<p>
 <!--
<span>Copyright &copy; 2017  KaderTarlan -</span>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> using the <a href="https://github.com/fapper/classic-martinb">classic-martinb</a> theme</span>

</p>
</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
